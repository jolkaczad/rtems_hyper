2011-12-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* mpc8260/console-generic/console-generic.c,
	mpc8xx/console-generic/console-generic.c:
	Eliminate unused var "nb_overflow".
	* shared/include/cpuIdent.c, shared/include/cpuIdent.h
	(get_ppc_cpu_type_name): Return const char*.

2011-11-10	Sebastian Huber <sebastian.huber@embedded-brains.de>

	PR 1927/bsps:
	* mpc83xx/network/tsec.c: Fixed integer truncation.

2011-11-08	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* new-exceptions/bspsupport/ppc_exc_async_normal.S: Bugfix for
	MPC5674F.  Use it for all to be safe.
	* mpc55xx/include/emios.h: Fixed eMIOS module count.
	* mpc55xx/include/irq.h: Fixed CAN vector numbers.
	BSP_INTERRUPT_HANDLER_TABLE_SIZE is now a BSP option.

2011-10-10	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* mpc55xx/include/fsl-mpc567x.h: Added EQADC as an alias to EQADC_A.

2011-10-10	Sebastian Huber <sebastian.huber@embedded-brains.de>

	PR 1928/bsps:
	* mpc55xx/include/fsl-mpc567x.h: Revert previous change.
	* mpc55xx/misc/flash_support.c: Enable this file only for MPC55XX.

2011-10-07	Ralf Corsépius <ralf.corsepius@rtems.org>

	* ppc403/clock/clock.c (ClockOn): Define pvr only for "ifndef ppc405".
	* ppc403/clock/clock.c (Install_clock): Remove unused var "pvr".
	* new-exceptions/bspsupport/ppc_exc_prologue.c 
	(ppc_exc_create_branch_op): Comment out unused var "BRANCH_OP_LINK".
	* mpc5xx/clock/clock.c: Make BSP_disconnect_clock_handler decl a
	prototype.

2011-10-07	Ralf Corsépius <ralf.corsepius@rtems.org>

	PR 1928/bsps:
	* mpc55xx/include/fsl-mpc567x.h (struct FLASH_tag): Extend SIZE to 4
	bits.

2011-09-27	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* mpc83xx/include/mpc83xx.h, mpc83xx/network/tsec.c: Update due to API
	changes.

2011-09-01	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* mpc55xx/include/fsl-mpc567x.h: Added FLASH as an alias to FLASH_A.

2011-09-01	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* mpc55xx/include/fsl-mpc551x.h: Use legacy register naming.

2011-09-01	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* mpc55xx/include/fsl-mpc551x.h, mpc55xx/include/fsl-mpc556x.h,
	mpc55xx/include/fsl-mpc567x.h: Added missing FLASH types.

2011-08-31	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* mpc55xx/include/fsl-mpc551x.h, mpc55xx/include/fsl-mpc555x.h,
	mpc55xx/include/fsl-mpc556x.h, mpc55xx/include/fsl-mpc567x.h,
	mpc55xx/include/regs-edma.h, mpc55xx/include/regs-mmu.h: New files.
	* Makefile.am, M preinstall.am: Reflect changes above.
	* mpc55xx/dspi/dspi.c: Update due to API changes.
	* mpc55xx/include/edma.h, mpc55xx/edma/edma.c: Rework to support
	multiple eDMA modules.  Removed complex error interrupt handling.
	* mpc55xx/include/esci.h, mpc55xx/esci/esci.c: Support interrupt mode
	and printk().  Use configure options.
	* mpc55xx/include/irq.h: More defines.  API changes.
	* mpc55xx/include/mpc55xx.h: API changes.
	* mpc55xx/include/reg-defs.h: Added register defines.
	* mpc55xx/include/regs.h: Use new register header files.
	* mpc55xx/include/siu.h: Fixed includes.
	* mpc55xx/misc/fmpll.S, mpc55xx/misc/copy.S, mpc55xx/misc/flash.S:
	Changed sections.  API changes. Support MPC5674F.

2011-08-31	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* new-exceptions/bspsupport/ppc_exc_categories.c,
	shared/include/cpuIdent.c, shared/include/cpuIdent.h: Support e200z7.

2011-08-30	Peter Dufault <dufault@hda.com>

	* mpc55xx/misc/flash_support.c: New file.
	* Makefile.am: Reflect change above.
	* mpc55xx/include/mpc55xx.h: Add definitions for the FLASH interface
	and two memory protect interfaces.  Add modifications to eliminate
	warnings in some of the cache macros.
	* mpc55xx/include/regs.h: Add some structure tag names for some
	structures that I needed access to.  Don't define the ALTCADR for the
	MPC5554 - it is reserved and acess casues an exception.  Hide the C99
	designated initializers when compiling with C++.  Add some support for
	the EQADC.
	* mpc55xx/include/esci.h, mpc55xx/include/watchdog.h: Add C++
	protection.

2011-08-24	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* mpc6xx/clock/c_clock.c, mpc6xx/mmu/mmuAsm.S,
	new-exceptions/bspsupport/ppc_exc_global_handler.c,
	shared/include/cpuIdent.c, shared/src/stack.c: Update due to API
	changes.

2011-07-21	Sebastian Huber <sebastian.huber@embedded-brains.de>

	PR 1799/bsps
	* new-exceptions/bspsupport/ppc_exc_async_normal.S: New file.
	* new-exceptions/cpu.c, new-exceptions/cpu_asm.S,
	new-exceptions/bspsupport/ppc_exc_asm_macros.h,
	new-exceptions/bspsupport/ppc_exc_global_handler.c,
	new-exceptions/bspsupport/ppc_exc_prologue.c,
	new-exceptions/bspsupport/vectors.h: Added support for SPE.
	* configure.ac, preinstall.am, Makefile.am: Added support for qoriq
	BSPs.

2011-06-18	Ralf Corsépius <ralf.corsepius@rtems.org>

	* Makefile.am: Remove reference to non-existing file
	new-exceptions/bspsupport/nest_irq_test.c.

2011-06-07	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* new-exceptions/bspsupport/ppc_exc_alignment.c: New file.
	* Makefile.am: Reflect change above.
	* new-exceptions/bspsupport/vectors.h: Declare
	ppc_exc_alignment_handler().

2011-06-07	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* new-exceptions/cpu_asm.S: Use BSP_DATA_CACHE_ENABLED instead of
	PPC_USE_DATA_CACHE.

2011-06-07	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/src/cache_.h: Moved implementation from "cache.c" to here.
	This avoids the function call overhead.
	* shared/src/cache.c: Removed file.
	* Makefile.am: Reflect changes above.

2011-06-07	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/src/cache_.h: Include required header file.

2011-05-19	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/include/powerpc-utility.h: API changes for ppc_*_cache_*()
	functions.

2011-05-11	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/include/powerpc-utility.h: Added ppc_fsl_system_version*()
	functions.

2011-03-10	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/include/cpuIdent.h: Fixed warnings.

2011-02-25	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* mpc83xx/network/tsec.c: New default MAC configuration.  Set MDIO
	clock according to actual CCB frequency.  Print media info only if we
	have a PHY.  Avoid infinite loop in media adaption.

2011-02-17	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* new-exceptions/bspsupport/vectors.h: Added defines PPC_EXC_GPR_TYPE,
	PPC_EXC_GPR_SIZE, PPC_EXC_GPR_OFFSET, PPC_EXC_MINIMAL_FRAME_SIZE, and
	PPC_EXC_FRAME_SIZE.  Changed layout of BSP_Exception_frame.

2011-02-17	Ralf Corsépius <ralf.corsepius@rtems.org>

	* new-exceptions/bspsupport/vectors.h: Add extern "C" {}.

2011-02-16	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/include/powerpc-utility.h: Fixed LINKER_SYMBOL() for
	assembler compatibilty.  Added synchronization, cache, and alternate
	time base functions.

2011-02-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* mpc55xx/include/mpc55xx.h:
	Use "__asm__" instead of "asm" for improved c99-compliance.

2011-02-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* mpc6xx/altivec/vec_sup.c, mpc6xx/mmu/bat.h:
	Fix up comments having been broken in previous commit.

2011-02-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* e500/mmu/mmu.c, mpc505/ictrl/ictrl.c, mpc505/timer/timer.c,
	mpc5xx/ictrl/ictrl.c, mpc5xx/timer/timer.c,
	mpc6xx/altivec/vec_sup.c, mpc6xx/clock/c_clock.c,
	mpc6xx/mmu/bat.c, mpc6xx/mmu/bat.h, mpc6xx/mmu/pte121.c,
	mpc8260/timer/timer.c, mpc8xx/timer/timer.c, new-exceptions/cpu.c,
	new-exceptions/bspsupport/ppc_exc_initialize.c,
	ppc403/clock/clock.c, ppc403/console/console.c,
	ppc403/console/console.c.polled, ppc403/console/console405.c,
	ppc403/irq/ictrl.c, ppc403/tty_drv/tty_drv.c,
	rtems/powerpc/cache.h, shared/include/powerpc-utility.h, shared/src/cache.c:
	Use "__asm__" instead of "asm" for improved c99-compliance.

2011-02-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Require autoconf-2.68, automake-1.11.1.

2011-01-31	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* new-exceptions/bspsupport/ppc_exc.S,
	new-exceptions/bspsupport/ppc_exc_asm_macros.h,
	new-exceptions/bspsupport/ppc_exc_naked.S,
	new-exceptions/bspsupport/ppc_exc_prologue.c: Branch targets are now
	global for all minimal prologues.  Generate branch instruction in
	minimal prologues.

2011-01-31	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* e500/mmu/mmu.c: Use common defines.

2011-01-28	Joel Sherrill <joel.sherrilL@OARcorp.com>

	* mpc5xx/exceptions/raw_exception.c, mpc5xx/exceptions/raw_exception.h,
	mpc5xx/include/console.h, mpc5xx/include/mpc5xx.h, mpc5xx/irq/irq.c,
	mpc5xx/irq/irq.h, mpc5xx/irq/irq_asm.S, mpc5xx/vectors/vectors.h,
	mpc5xx/vectors/vectors_init.c, mpc6xx/mmu/bat.c, mpc6xx/mmu/bat.h,
	mpc6xx/mmu/mmuAsm.S, new-exceptions/bspsupport/irq.c,
	new-exceptions/bspsupport/irq_supp.h,
	new-exceptions/bspsupport/nested_irq_test.c,
	new-exceptions/bspsupport/ppc_exc_address.c,
	new-exceptions/bspsupport/ppc_exc_categories.c,
	new-exceptions/bspsupport/ppc_exc_global_handler.c,
	new-exceptions/bspsupport/ppc_exc_hdl.c,
	new-exceptions/bspsupport/ppc_exc_initialize.c,
	new-exceptions/bspsupport/ppc_exc_prologue.c,
	new-exceptions/bspsupport/ppc_exc_test.c,
	new-exceptions/bspsupport/vectors.h, shared/include/byteorder.h,
	shared/include/cpuIdent.c, shared/include/cpuIdent.h,
	shared/include/io.h, shared/include/mmu.h, shared/include/page.h,
	shared/include/pgtable.h, shared/include/spr.h: Fix typo where
	license said found in found in.

2011-01-27	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* new-exceptions/bspsupport/ppc_exc_categories.c: Fixed e500
	categories.

2011-01-14	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* mpc83xx/network/tsec.c, mpc83xx/network/tsec.h: Use configuration
	structure instead of many function parameters.  Moved board specific
	initializations.  Added support for interfaces without PHY access.

2011-01-09	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* new-exceptions/bspsupport/ppc_exc_categories.c: Fixed e200 machine
	check category.

2010-12-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* Makefile.am, preinstall.am, mpc83xx/include/mpc83xx.h,
	mpc83xx/network/tsec.c, mpc83xx/network/tsec.h: Make it possible to
	use the TSEC driver for other systems.

2010-12-29	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/include/cpuIdent.c, shared/include/cpuIdent.h: Added support
	for e500v2.  Removed IVPR/IVOR/HWIVOR features since they are included
	in Book E.
	* new-exceptions/bspsupport/vectors.h,
	new-exceptions/bspsupport/ppc_exc.S,
	new-exceptions/bspsupport/ppc_exc_address.c,
	new-exceptions/bspsupport/ppc_exc_categories.c,
	new-exceptions/bspsupport/ppc_exc_initialize.c,
	new-exceptions/bspsupport/ppc_exc_prologue.c: Added support for
	e500v2.  Added exception vector defines for Book E types.  Removed
	e200 exception vector defines.  Added e500 exception vector defines.
	Unified IVOR calculation for e200 and e500 (e200z1 has hard wired
	IVOR values).
	* mpc55xx/include/mpc55xx.h, mpc55xx/misc/copy.S: Removed zero
	functions.

2010-12-23	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* mpc83xx/i2c/mpc83xx_i2cdrv.c: Fixed interrupt flag clearing for
	MPC55XX family.

2010-12-22	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* new-exceptions/bspsupport/ppc_exc.S: Comment.
	* new-exceptions/bspsupport/ppc_exc_address.c: Fixed address
	calculation for e200z1 core.

2010-11-30	Joel Sherrill <joel.sherrilL@OARcorp.com>

	* mpc55xx/edma/edma.c: Use rtems_chain_first() and do not directly
	access the structure.

2010-11-12	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* mpc55xx/include/irq.h: Include missing <bspopts.h>.  Format.
	* mpc83xx/include/mpc83xx.h, mpc83xx/i2c/mpc83xx_i2cdrv.h,
	mpc83xx/i2c/mpc83xx_i2cdrv.c: Changes to use this driver for the
	MPC55XX family.

2010-08-15	Joel Sherrill <joel.sherrilL@OARcorp.com>

	* mpc55xx/esci/esci.c: Add BSP_poll_char.

2010-07-30	Gedare Bloom <giddyup44@yahoo.com>

	PR 1599/cpukit
	* new-exceptions/bspsupport/ppc_exc_hdl.c: Rename
	_Context_Switch_necessary to _Thread_Dispatch_necessary to more
	properly reflect the intent.

2010-06-29	Jennifer Averett <Jennifer.Averett@OARcorp.com>

	* new-exceptions/bspsupport/ppc_exc_asm_macros.h: Added include of
	bspopts to resolve compilation problem.

2010-06-28	Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1573/cpukit
	* mpc5xx/irq/irq.c, mpc5xx/irq/irq_asm.S,
	new-exceptions/bspsupport/ppc_exc.S,
	new-exceptions/bspsupport/ppc_exc_asm_macros.h,
	new-exceptions/bspsupport/ppc_exc_hdl.c: Add a per cpu data structure
	which contains the information required by RTEMS for each CPU core.
	This encapsulates information such as thread executing, heir, idle
	and dispatch needed.

2010-06-14	Joel Sherrill <joel.sherrilL@OARcorp.com>

	* Makefile.am: Formatting.

2010-05-24	Peter Dufault <dufault@hda.com>

	PR 1530/bsps
	* mpc55xx/edma/edma.c: Eliminate use of recently removed macros.

2010-04-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* mpc55xx/include/irq.h: Move defines from
	'libbsp/powerpc/mpc55xxevb/include/irq-config.h'.

2010-04-28	Joel Sherrill <joel.sherrilL@OARcorp.com>

	* mpc5xx/clock/clock.c, mpc5xx/console-generic/console-generic.c,
	mpc5xx/irq/irq_init.c, mpc5xx/timer/timer.c: Remove warnings.

2010-04-25	Joel Sherrill <joel.sherrilL@OARcorp.com>

	* ppc403/clock/clock.c, ppc403/console/console405.c,
	ppc403/tty_drv/tty_drv.c: Remove warnings and simple vectored
	interrupt support.

2010-04-07      Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* shared/include/cpuIdent.c, shared/include/cpuIdent.h: skip
	version nibble when detecting e200 processor version
	* mpc55xx/edma/edma.c, mpc55xx/include/irq.h,
	mpc55xx/include/reg-defs.h, mpc55xx/include/regs.h,
	mpc55xx/misc/copy.S, mpc55xx/misc/fmpll.S:
	renamed MPC55XX_CHIP_DERIVATE to MPC55XX_CHIP_TYPE

2010-04-07      Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* mpc55xx/edma/edma.c, mpc55xx/esci/esci.c, mpc55xx/include/irq.h,
	mpc55xx/include/reg-defs.h, mpc55xx/include/regs.h,
	mpc55xx/misc/copy.S, mpc55xx/misc/fmpll.S, mpc5xx/irq/irq_init.c,
	mpc5xx/vectors/vectors_init.c,
	new-exceptions/bspsupport/ppc_exc_address.c,
	new-exceptions/bspsupport/ppc_exc_categories.c,
	new-exceptions/bspsupport/ppc_exc_initialize.c,
	shared/include/cpuIdent.c, shared/include/cpuIdent.h: adapted for
	GW_LCFM support

2010-03-27      Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* ppc403/clock/clock.c, ppc403/clock/clock_4xx.c: code changes to
	remove warnings

2010-03-27      Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* mpc83xx/gtm/gtm.c, mpc5xx/timer/timer.c,
	mpc5xx/vectors/vector_init.c: code changes to remove warnings

2010-03-25      Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* Makefile.am, mpc55xx/include/siu.h, mpc55xx/siu/siu.c:
	add generic SIU support
	add timer support, on timebase
	* mpc55xx/edma/edma.c: fix init call to be prototype
	* mpc55xx/esci/esci.c: adapted to new prototype for *_write function
	* mpc55xx/include/reg-defs.h, mpc55xx/include/regs.h,
	mpc55xx/misc/fmpll.S:
	add support for mpc551x registers
	* mpc6xx/timer/timer.c: fix typo

2009-12-17      Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* mpc5xx/irq/irq.c: removed warning

2009-12-16      Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* mpc5xx/include/console.h,
	mpc5xx/console-generic/console-generic.c,
	mpc8xx/include/console.h,
	mpc8xx/console-generic/console-generic.c,
	mpc8260/include/console.h,
	mpc8260/console-generic/console-generic.c: adapted to new prototype
	for *_write function

2009-12-04	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* new-exceptions/bspsupport/ppc_exc_bspsupp.h: Removed file.
	* new-exceptions/bspsupport/ppc_exc_test.c,
	new-exceptions/bspsupport/README: Update for removed file.

2009-12-01	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/cpu.c, new-exceptions/cpu_asm.S,
	new-exceptions/bspsupport/ppc_exc_asm_macros.h,
	new-exceptions/bspsupport/ppc_exc_initialize.c,
	new-exceptions/bspsupport/vectors.h:
	Added AltiVec support (save/restore volatile vregs
	across exceptions).

2009-12-01	Till Straumann <strauman@slac.stanford.edu>

	* Makefile.am, mpc6xx/altivec: new directory implementing
	support for AltiVec context saving/restoring.

2009-12-01	Till Straumann <strauman@slac.stanford.edu>

	* mpc6xx/mmu/bat.c, mpc6xx/mmu/pte121.c: skip data-
	streaming (dssall etc.) instructions on PPC_PSIM
	currently (unimplemented by PSIM :-( ).

2009-11-17	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/ppc_exc_categories.c:
	PSIM *must*not* hook SYS vector which is used e.g.,
	for firmware I/O.

	Added entries for AltiVec on PSIM.

2009-11-15	Till Straumann <strauman@slac.stanford.edu>

	* shared/include/cpuIdent.c: Set 604 features + altivec if
	running on PSIM.

2009-11-03  Thomas Doerfler  <Thomas.Doerfler@imd-systems.de>

	* shared/include/powerpc-utility.h, shared/include/byteorder.h,
	shared/include/cpuIdent.h:
	add c++ declaration brackets
	* Makefile.am, mpc8260/clock: removed mpc8260 specific clock
	driver
	* e500/mmu/e500_mmu.h, e500/mmu/mmu.c,: removed "non-prototype"
	warning
	* mpc8260/timer/timer.c: moved extern declarations outside
	function body
	* mpc8xx/mmu/mmu.c: enable data cache when MMU is off to avoid
	cache confusion during exception entry

2009-11-02  Thomas Doerfler  <Thomas.Doerfler@imd-systems.de>

	* mpc8xx/mmu/mmu.c:
	enable data chache, when MMU is disabled

2009-10-30  Thomas Doerfler  <Thomas.Doerfler@imd-systems.de>

	* mpc6xx/clock/c_clock.c:
	moved timebase/decrementer access from cpukit to libcpu 

2009-10-29  Thomas Doerfler  <Thomas.Doerfler@imd-systems.de>

	* shared/include/powerpc-utility.h, mpc6xx/timer/timer.c:
	moved timebase/decrementer access from cpukit to libcpu 

2009-10-23	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* new-exceptions/e500_raw_exc_init.c, new-exceptions/raw_exception.c,
	new-exceptions/raw_exception.h,
	new-exceptions/bspsupport/vectors_init.c,
	mpc8xx/exceptions/asm_utils.S, mpc8xx/exceptions/raw_exception.c,
	mpc8xx/exceptions/raw_exception.h, mpc8260/asm_utils.S,
	mpc8260/raw_exception.c, mpc8260/raw_exception.h: Removed files.
	* Makefile.am: Update for removed files.

2009-10-22	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* new-exceptions/bspsupport/ppc-code-copy.c,
	new-exceptions/bspsupport/ppc_exc_address.c,
	new-exceptions/bspsupport/ppc_exc_categories.c,
	new-exceptions/bspsupport/ppc_exc_global_handler.c,
	new-exceptions/bspsupport/ppc_exc_initialize.c,
	new-exceptions/bspsupport/ppc_exc_naked.S,
	new-exceptions/bspsupport/ppc_exc_prologue.c: New files.
	* new-exceptions/bspsupport/irq.c,
	new-exceptions/bspsupport/irq_supp.h,
	new-exceptions/bspsupport/ppc_exc_asm_macros.h: Changed exception
	header file includes.  Fixes for type changes.
	* new-exceptions/bspsupport/vectors.h: Reformatted.  Documentation.
	Removed parts that belong to the raw exception API.  Added
	declarations from files "new-exceptions/raw_exception.h" and
	"bspsupport/ppc_exc_bspsupp.h".
	* new-exceptions/bspsupport/ppc_exc_hdl.c: Reformatted.  Removed parts
	that belong to the raw exception API.
	* new-exceptions/bspsupport/ppc_exc_bspsupp.h: Added prologue template.
	* new-exceptions/bspsupport/ppc_exc.S: Fixed
	ppc_exc_tgpr_clr_prolog_size.
	* shared/include/powerpc-utility.h: Reformatted.  Include more files
	for ASM.
	* shared/include/cpuIdent.h: Added ppc_cpu_current() and ppc_cpu_is().

2009-10-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* new-exceptions/bspsupport/vectors_init.c: Remove duplicate
	defines DEAR_BOOKE, DEAR_405.

2009-10-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* mpc6xx/mmu/bat.c: Add missing prototypes.

2009-10-21	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* mpc55xx/edma/edma.c, mpc55xx/esci/esci.c: Update for interrupt
	handler type change.

2009-10-16	Jennifer Averett <jennifer.averett@OARcorp.com>

	* mpc6xx/mmu/bat.c: Resolved bug: It is not an overlap if the batindex
	being set is the batindex of the overlap.

2009-09-25	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/include/io.h, shared/include/mmu.h: Change extern inline to
	static inline.

2009-08-27	Joel Sherrill <joel.sherrill@OARcorp.com>

	* mpc6xx/mmu/bat.c, mpc6xx/mmu/bat.h: Fix spelling.

2009-07-20	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* Makefile.am, preinstall.am: Update for MPC55XX changes.
	* mpc55xx/emios/emios.c, mpc55xx/include/emios.h: New files.
	* mpc55xx/dspi/dspi.c, mpc55xx/edma/edma.c, mpc55xx/esci/esci.c,
	mpc55xx/include/dspi.h, mpc55xx/include/edma.h, mpc55xx/include/irq.h,
	mpc55xx/include/regs.h, mpc55xx/irq/irq.c: Changes throughout.

2009-05-05	Jennifer Averett <jennifer.averett@OARcorp.com>

	* mpc6xx/mmu/bat.c, new-exceptions/e500_raw_exc_init.c,
	new-exceptions/raw_exception.h, new-exceptions/bspsupport/irq_supp.h,
	shared/include/cpuIdent.c: Removed warnings. Split
	bsp_irq_dispatch_list to allow non-standard/non-existant pics to call
	with interrupts off.

2009-03-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1385/cpukit
	* mpc5xx/irq/irq_asm.S: When the type rtems_boolean was switched to the
	C99 bool, the size changed from 4 bytes to 1 byte. The interrupt
	dispatching code accesses two boolean variables for scheduling
	purposes and the assembly implementations of this code did not get
	updated.

2009-02-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	* new-exceptions/cpu.c: Correct prototype of _CPU_Initialize.

2008-10-02	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/include/powerpc-utility.h: Use constraint "b" for address
	base registers in inline assembler statements.

	* mpc55xx/dspi/dspi.c, mpc55xx/edma/edma.c, mpc55xx/esci/esci.c,
	mpc55xx/irq/irq.c, mpc83xx/gtm/gtm.c: Update for status-checks.h
	changes.

2008-10-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* mpc83xx/include/mpc83xx.h: #include <bspopts.h> to make sure 
	defines from bspopts.h get propagated.

2008-09-09	Thomas Doerfler <thomas.doerfler@embedded-brains.de>

	* mpc8xx/mpc8xx.h, mpc8xx/timer/timer.c: minor additions

	* mpc83xx/i2c/mpc83xx_i2cdrv.c: wait, 'til STOP has been executed

2008-09-08	Joel Sherrill <joel.sherrill@oarcorp.com>

	* mpc8xx/clock/clock.c, mpc8xx/console-generic/console-generic.c,
	mpc8xx/timer/timer.c: Fix nested extern declaration warnings.

2008-09-08	Thomas Doerfler <thomas.doerfler@embedded-brains.de>

	* mpc8xx/clock/clock.c: adapt PIT driver to more complex PLL in
	MPC866 and firends

	* mpc8xx/cpm/cp.c: use correct type for interrupt level

2008-09-06	Ralf Corsépius <ralf.corsepius@rtems.org>

	* mpc5xx/irq/irq.c, mpc83xx/spi/mpc83xx_spidrv.c,
	new-exceptions/cpu.c, new-exceptions/raw_exception.h,
	new-exceptions/bspsupport/ppc_exc_hdl.c,
	ppc403/clock/clock.c, ppc403/clock/clock_4xx.c,
	ppc403/console/console.c, ppc403/console/console.c.polled,
	ppc403/console/console405.c, ppc403/tty_drv/tty_drv.c:
	Convert to "bool".

2008-09-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* mpc5xx/clock/clock.c, mpc6xx/clock/c_clock.c, mpc8260/clock/clock.c,
	mpc8xx/clock/clock.c, ppc403/clock/clock.c, ppc403/clock/clock_4xx.c:
	The Shared Memory Driver no longer requires the special IOCTL in
	Clock_control. This was a hack which has existed since before the
	Classic API Timer Manager was implemented. All implementations of and
	references to Clock_control were removed.

2008-09-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* mpc6xx/clock/c_clock.c: CLOCK_DRIVER_USE_FAST_IDLE must be checked to
	be equal to 1 -- not just defined.

2008-09-05	Ralf Corsépius <ralf.corsepius@rtems.org>

	* mpc83xx/network/tsec.c, new-exceptions/raw_exception.c:
	Convert to "bool".
	* mpc505/timer/timer.c, mpc5xx/timer/timer.c, mpc6xx/timer/timer.c,
	mpc8260/timer/timer.c, mpc8xx/timer/timer.c, ppc403/timer/timer.c:
	Convert to "bool".

2008-09-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* mpc83xx/i2c/mpc83xx_i2cdrv.c, mpc8xx/clock/clock.c,
	ppc403/clock/clock.c, ppc403/console/console.c.polled:
	Eliminate rtems_boolean.

2008-08-31	Joel Sherrill <joel.sherrill@oarcorp.com>

	* mpc505/timer/timer.c, mpc5xx/timer/timer.c, mpc6xx/timer/timer.c,
	mpc8260/timer/timer.c, mpc8xx/timer/timer.c, ppc403/timer/timer.c:
	Rename timer driver methods to follow RTEMS programming conventions.

2008-08-26	Thomas Doerfler <Thomas.Doerflerr@embedded-brains.de>

	* mpc83xx/i2c/mpc83xx_i2cdrv.c: wait for proper end of transfer
	* mpc83xx/include/mpc83xx.h: add some register definitions
	
2008-08-26	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* mpc83xx/network/tsec.c: Clear the interrupt mask and all pending
	events during the hardware initialization.

2008-08-22	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/include/powerpc-utility.h: Fixed parameter evaluation in
	special purpose register macros.

2008-08-20	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* mpc55xx/fec/fec.c: Added copyright information.
	* mpc55xx/dspi/dspi.c, mpc55xx/edma/edma.c, mpc55xx/esci/esci.c:
	Fixed nexted extern declarations.  Fixed integer conversion warnings.
	* shared/include/cpuIdent.c: Added missing initializers.

2008-08-20	Ralf Corsépius <ralf.corsepius@rtems.org>

	* mpc8260/clock/clock.c, mpc8260/console-generic/console-generic.c:
	Add missing prototypes.
	* mpc8xx/clock/clock.c, mpc8xx/console-generic/console-generic.c,
	ppc403/timer/timer.c, shared/src/cache.c: Add missing prototypes.

2008-08-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* mpc6xx/mmu/pte121.c, mpc6xx/mmu/pte121.h, mpc6xx/timer/timer.c,
	new-exceptions/e500_raw_exc_init.c,
	new-exceptions/bspsupport/ppc_exc_bspsupp.h,
	new-exceptions/bspsupport/vectors_init.c: Fix warnings.

2008-07-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* Makefile.am: Remove doxygen comments.

2008-07-22	Till Straumann <strauman@slac.stanford.edu>

	* ppc403/clock/clock.c: Added (conditionally compiled)
	code so that a BSP can choose to hook the timer exception
	directly rather than going through the interrupt dispatcher.

2008-07-21	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/raw_exception,h,
	new-exceptions/raw_exception.c: Added more vectors for PPC405:
	watchdog, fpu-unavail, apu-unavail, itlbmiss, dtlbmiss, debug.
	
2008-07-18	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/include/powerpc-utility.h: Changed special purpose register
	inline functions to macros.  Added macros to set and clear bits for
	SPRs and DCRs.

	* new-exceptions/raw_exception.c: The watchdog exception for e200 is
	now asynchronous.

	* mpc83xx/gtm/gtm.c: Bugfix for some value assignments.

	* mpc55xx/include/watchdog.h: New file.

	* Makefile.am: Install mpc55xx/include/watchdog.h for MPC55XX.

2008-07-18	Thomas Doerfler <thomas.doerfler@embedded-brains.de>

	* mpc83xx/network/tsec.c: Initialize PHY registers late enough,
	so that phy access is possible

2008-07-17	Thomas Doerfler <thomas.doerfler@embedded-brains.de>

	* rtems/powerpc/powerpc.h:
	ppc405 uses definitions distinct from ppc403 now
	* shared/src/cache_.h: Use correct powerpc.h to get cache attributes

	
2008-07-17	Thomas Doerfler <thomas.doerfler@embedded-brains.de>

	* shared/include/powerpc-utility.h:
	Fixed typo in access macros for device control registers (DCR)
	
2008-07-16	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/vectors_init.c: added
	features to C_exception_handler() (the default global
	handler):
	 - try to catch recursion
	 - print info about context where the exception occurred
	   (ISR or task with task ID).
	 - suspend offending task rather than spinning forever.
	
2008-07-16	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/vectors_init.c: must not
	align start of stack downwards (we don't 'own' memory
	below start). Instead, use original boundaries but
	align the stack pointer as required.

	Added test to verify that R13 was loaded with _SDA_BASE_
	during early initialization (low-level assembly code
	relies on it).

2008-07-16	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/cpu.c: propagate R2 to all task contexts
	even if the ABI is SVR4. Cannot hurt...

2008-07-16	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/cpu.c: use ppc_interrupt_get_disable_mask()
	to determine which bits to set/clear from _CPU_Context_Initialize().

2008-07-16	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/ppc_exc_asm_macros.h: Added
	a test to TEST_LOCK_crit so that a context switch is
	always prevented if MSR_CE is not set in the interrupt mask.
	(Support mode where the user wants to leave MSR_CE always enabled
	but abstains from calling OS primitives from the exception
	handler.)

2008-07-16	Till Straumann <strauman@slac.stanford.edu>

	* shared/include/powerpc-utility.h: Added 
	GET_INTERRUPT_MASK macro.

2008-07-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* mpc6xx/clock/c_clock.c: Add fast idle.

2008-07-14	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* configure.ac: Support for MPC55XX.  Changed comment format to
	Doxygen.

	* mpc55xx/dspi/dspi.c, mpc55xx/edma/edma.c, mpc55xx/esci/esci.c,
	mpc55xx/fec/fec.c, mpc55xx/include/dspi.h, mpc55xx/include/edma.h,
	mpc55xx/include/esci.h, mpc55xx/include/irq.h,
	mpc55xx/include/mpc55xx.h, mpc55xx/include/reg-defs.h,
	mpc55xx/include/regs.h, mpc55xx/irq/irq.c, mpc55xx/misc/copy.S,
	mpc55xx/misc/flash.S, mpc55xx/misc/fmpll.S: New BSP.

	* mpc83xx/i2c/mpc83xx_i2cdrv.c,
	mpc83xx/network/tsec.c, mpc83xx/spi/mpc83xx_spidrv.c,
	mpc83xx/spi/mpc83xx_spidrv.h: Support for MPC8313ERDB.

	* shared/include/powerpc-utility.h: Exchanged ASM and non ASM code
	sections.

	* rtems/powerpc/powerpc.h, shared/src/cache.c, shared/src/cache_.h:
	New defines PPC_NO_CACHE_ALIGNMENT and PPC_NO_CACHE_ALIGNMENT_POWER for
	CPUs with no cache.  Provide default implementations for all cache
	functions.

	* mpc83xx/include/gtm.h, mpc83xx/gtm/gtm.c: New files.

2008-07-14	Thomas Doerfler <thomas.doerfler@embedded-brains.de>

	* Makefile.am, new-exceptions/raw_exception.c,
	* new-exceptions/bspsupport/irq.c, ppc403/clock/clock_4xx.c,
	* ppc403/include/ppc405ex.h, ppc403/include/ppc405gp.h,
	* ppc403/timer/timer.c, rtems/powerpc/powerpc.h,
	* shared/include/cpuIdent.c, shared/include/cpuIdent.h,
	* shared/include/powerpc-utility.h:
	Added support for PPC405EX (contributed by Michael Hamel)
	
2008-07-11	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* Makefile.am: Install powerpc-utility.h.

	* shared/include/cpuIdent.h, shared/include/cpuIdent.c: Added e200 and
	e300 features.

	* new-exceptions/cpu.c: Removed PR288 bugfix check.

	* new-exceptions/e500_raw_exc_init.c: Added initialization for e200.
	Set IVPR register for e200 and e500 to ppc_exc_vector_base.

	* new-exceptions/raw_exception.c, new-exceptions/raw_exception.h: Added
	vector categories for e200 and e300 cores.  Added global variable
	ppc_exc_vector_base for CPUs with IVPR register.

	* new-exceptions/bspsupport/ppc_exc.S,
	* new-exceptions/bspsupport/ppc_exc_asm_macros.h,
	* new-exceptions/bspsupport/ppc_exc_bspsupp.h,
	* new-exceptions/bspsupport/ppc_exc_hdl.c,
	* new-exceptions/bspsupport/vectors.h,
	* new-exceptions/bspsupport/vectors_init.c: 
	Conistent code layout in most assember code sections and usage of
	defines for registers.  Usage of standard header files to avoid
	multiple definitions. 
	
	Optimized exception code: Removed many branches and exploit branch
	prediction for asynchronous exceptions, moved common wrap code into
	WRAP macro to eliminate branch, static initialization of the handler
	table with a default handler to eliminate the test if a handler is
	present.  Register CR6 is no more cleared because the exeption handler
	functions are not variadic.
	
	New method to switch to the interrupt stack. It will be tested if the
	exception stack pointer is already inside the interrupt stack area.  It
	is no more necessary to disable interrupts.  The SPRG1 and SPRG2 are
	used to store the initial interrupt stack pointer and the interrupt
	stack memory area start.

	Removed variable ppc_exc_msr_irq_mask and use general interrupt disable
	mask from SPRG0 instead.

	New initialization routine ppc_exc_initialize() for bsp_start().  It
	takes the interrupt disable mask, interrupt stack start and size as
	parameters.

	Added packed prologues for CPUs with IVPR and IVOR registers to save
	memory space.

	Reverted ppc_exc_crit_always_enabled change from yesterday.

	WARNING: Tests with critical interrupt exceptions crash the system at
	least on MPC8313ERDB and MPC8349EAMDS.  There may be somewhere a
	serious bug with the new code.

2008-07-10	Till Straumann <strauman@slac.stanford.edu>

	* mpc6xx/mmu/pte121.c: use general "memory" clobber
	rather than memory input operand in inline assembly
	("m" doesn't do what the manual says; see discussion
	on gcc mailing list around 2008/3/30)

2008-07-10	Till Straumann <strauman@slac.stanford.edu>

	* ChangeLog, mpc8xx/clock/clock.c, ppc403/clock/clock.c,
	ppc403/irq/ictrl.h, rtems/powerpc/powerpc.h:
	Removed all macro definitions which depended on
	the compiler defining a PPC CPU-model dependent
	symbol from files in cpukit.
	Macros which were not used by cpukit have been
	moved to libcpu/powerpc/rtems/powerpc/powerpc.h.

2008-07-10	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/README,
	new-exceptions/bspsupport/ppc_exc.S,
	new-exceptions/bspsupport/ppc_exc_asm_macros.h,
	new-exceptions/bspsupport/ppc_exc_bspsupp.h,
	new-exceptions/bspsupport/ppc_exc_hdl.c,
	new-exceptions/bspsupport/vectors_init.c:
	Fixed and enabled stack-switching algorithm which figures out
	if we already run on the ISR stack rather than relying on the
	_ISR_Nest_level.
	Added 'ppc_exc_crit_always_enabled' variable which defines
	the semantics of critical interrupts.
	Let asynchronous machine-check handling never call the dispatcher.
	We don't want to disable MSR_ME ever (to avoid checkstops)
	and hence asynchronous MEs must not use OS services anyways.

2008-07-09	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/include/powerpc-utility.h: Includes standard header files,
	provides common assembler macros and inline functions for low-level
	code.

2008-05-23	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* mpc83xx/network/tsec.c:
	disabled debugging output, reduced rx interrupt coalescing

2008-05-22	Till Straumann <strauman@slac.stanford.edu>

	* ppc403/tty_drv/tty_drv.c, ppc403/console/console405.c:
	../ictrl/ictrl.h has gone; include ../irq/ictrl.h

2008-05-16	Joel Sherrill <joel.sherrill@OARcorp.com>

	* mpc83xx/include/mpc83xx.h: or is not a good name for any name in
	C/C++. See iso646.h for the reason.

2008-05-15	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* mpc83xx/i2c/mpc83xx_i2cdrv.c:
	disabled debugging output

2008-05-15	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* mpc83xx/network/tsec.c, mpc83xx/include/mpc83xx.h:
	added support for RGMII interface and different board

2008-05-15	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* mpc83xx/i2c/mpc83xx_i2cdrv.c, mpc83xx/i2c/mpc83xx_i2cdrv.h,
	* mpc83xx/spi/mpc83xx_spidrv.c, mpc83xx/spi/mpc83xx_spidrv.h:
	added base frequency into softc structure

2008-05-14	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/ppc_exc_bspsupp.h: added
	comment about the semantics of the return value of 
	ppc_exc_handler_t.

2008-05-14	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/irq.c: moved malloc/free
	outside of irq-protected critical section.

2008-04-24	Joel Sherrill <joel.sherrill@OARcorp.com>

	* mpc8260/console-generic/console-generic.c,
	mpc8xx/console-generic/console-generic.c: Remove all references to
	console_reserve_resources and termios_reserve_resources.

2008-04-24	Nigel Spon <nigel@adi.co.nz>

	* ppc403/console/console.c: Correct include path.

2008-04-23	Joel Sherrill <joel.sherrill@OARcorp.com>

	* mpc5xx/console-generic/console-generic.c, mpc5xx/include/console.h,
	mpc8260/console-generic/console-generic.c, mpc8260/include/console.h,
	mpc8xx/console-generic/console-generic.c, mpc8xx/include/console.h:
	Remove all references to console_reserve_resources and
	termios_reserve_resources.

2008-04-07	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* README: 
	removed reference to outdated "old-exception-handling" PPC support

2008-03-20	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/irq.c: don't disable irqs
	at the interrupt controller (PIC) during initialization -- this
	caused problems where some BSPs's BSP_disable_irq_at_pic() routine
	did not ignore IRQ lines associated with cascaded PICs.
	Rely on the BSP (BSP_setup_the_pic()) to provide a good
	initial setup.

2008-03-13	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/ppc_exc_asm_macros.h,
	new-exceptions/bspsupport/ppc_exc.S,
	new-exceptions/bspsupport/README,
	new-exceptions/bspsupport/ppc_exc_hdl.c:
	Thomas Doerfler clarified (thanks!) that raising an
	exception and executing the 1st instruction is not
	an atomical operation. I added a fix to the code that
	checks if a lower-priority interrupt is under way:
	we now not only test if the 'lock' variable was set
	but also check if the interrupted PC points to the
	'write lock' instruction.
	Added more comments and updated README.

2008-03-11	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/ppc_exc_asm_macros.h: bugfix;
	need to crand not cror when testing lower priority locks
	during machine-check handling.

2008-03-05	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/ppc_exc_asm_macros.h: bugfix;
	need to andc with irq mask when disabling interrupts.

2008-02-19	Ralf Corsépius <ralf.corsepius@rtems.org>

	* old-exceptions/README, old-exceptions/TODO, old-exceptions/cpu.c,
	old-exceptions/cpu_asm.S, old-exceptions/irq_stub.S,
	old-exceptions/ppccache.c, old-exceptions/rtems/score/ppc_offs.h,
	ppc403/ictrl/ictrl.c, ppc403/ictrl/ictrl.h, ppc403/vectors/align_h.S
	ppc403/vectors/vectors.S: Remove (Abandoned).
	* Makefile.am: Remove refs to files above.
	Eliminate OLD_EXCEPTIONS.
	* configure.ac: Remove OLD_EXCEPTIONS.

2008-02-19	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Deactivate old-exceptions.

2008-02-15	Joel Sherrill <joel.sherrill@OARcorp.com>

	* preinstall.am: Add e500_mmu.h

2008-02-08	Till Straumann <strauman@slac.stanford.edu>

	* Makefile.am, e500/, e500/mmu, e500/mmu/mmu.c,
	e500/mmu/e500_mmu.h: added code for PPC E500
	TLB manipulation.

2008-01-10	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/irq.c: When unhooking
	and ISR only disable IRQs at the PIC if we are
	unhooking the last ISR.

2007-12-11	Till Straumann <strauman@slac.stanford.edu>

	* Makefile.am: don't normally build-in test code
	(ppc_exc_test.c).

2007-12-11	Till Straumann <strauman@slac.stanford.edu>

	* Makefile.am, new-exceptions/bspsupport/README:
	provide new irq_bspsupport.rel which was
	split out of exc_bspsupport.rel to provide finer-grained
	control over what BSPs want to use.

2007-12-11	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/irq.c: enable/disable
	irq at PIC if an initial handler is present/absent
	(reproduce traditional semantics).

2007-12-10	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/e500_raw_exc_init.c: map DEC
	exception to ASM_BOOKE_DEC_VECTOR instead of ASM_DEC_VECTOR.

	Fixed wrong mapping of ASM_BOOKE_FIT_VECTOR
	(was ASM_BOOKE_PIT_VECTOR).

2007-12-10	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/raw_exception.c, new_exceptions/raw_exception.h,
	new_exceptions/bspsupport/irq.c: renamed ASM_BOOKE_PIT_VECTOR
	to ASM_BOOKE_DEC_VECTOR to be closer to 'official'
	nomenclature.

2007-12-10	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/ppc_exc_test.c: fixed
	wrong type in argument (signed vs. unsigned)
	compiler warning.

2007-12-10	Till Straumann <strauman@slac.stanford.edu>

	* Makefile.am: build new-exceptions/bspsupport for
	non-mpc5xx, new-exception CPUs.

2007-12-10	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/nested_irq_test.c: adjusted
	wrong irq name/number calculation.

2007-12-10	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/ppc_exc_hdl.c: make sure
	RI is set in the exception frame and panic if it isn't
	(state info might have been lost). This only affects
	classic PPC.

2007-12-10	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/README,
	new-exceptions/bspsupport/ppc_exc_bspsupp.h
	new-exceptions/bspsupport/vectors_init.c:
	added crude test to make sure MMU maps memory as
	write-back enabled.

2007-12-09	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/ppc_exc_test.c,
	new-exceptions/bspsupport/vectors_init.c,
	new-exceptions/bspsupport/ppc_exc_bspsupp.h,
	new-exceptions/bspsupport/README,
	new-exceptions/bspsupport/irq_supp.h:
	Added README and some comments; now use TRAP exception
	in ppc_exc_test.c so that it works on PSIM.

2007-12-08	Till Straumann <strauman@slac.stanford.edu>

	* irq_supp.h: was moved from libbsp/powerpc/shared/irq to
	libcpu/powerpc/new-exceptions/bspsupport.

2007-12-08	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/irq.c,
	new-exceptions/bspsupport/ppc_exc_bspsupp.h,
	new-exceptions/bspsupport/ppc_exc_hdl.c:
	fixed some mismatching signed/unsigned types.

2007-12-08	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/bspsupport/, new-exceptions/bspsupport/ppc_exc.S,
	new-exceptions/bspsupport/ppc_exc_test.c,
	new-exceptions/bspsupport/vectors.h,
	new-exceptions/bspsupport/vectors_init.c,
	new-exceptions/bspsupport/irq.c,
	new-exceptions/bspsupport/ppc_exc_bspsupp.h,
	new-exceptions/bspsupport/ppc_exc_hdl.c,
	new-exceptions/bspsupport/ppc_exc_asm_macros.h,
	new-exceptions/bspsupport/nested_irq_test.c:
	New files. Added 'middleware' code for helping BSPs implement
	exception and interrupt handling and implementing the 'new'
	RTEMS IRQ API (which I personally dislike).

2007-12-08	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/e500_raw_exc_init.c, new-exceptions/raw_exception.c,
	shared/include/cpuIdent.c, shared/include/cpuIdent.h:
	Added different kinds of 'bookE' to the ppc_cpu_is_bookE feature
	check; unfortunately...

2007-12-07	Till Straumann <strauman@slac.stanford.edu>

	* Makefile.am: must not add e500_raw_exc_init.c to 
	xyz_SOURCES for mpc5xx

2007-12-06	Till Straumann <strauman@slac.stanford.edu>

	* shared/include/cpuIdent.h, shared/include/cpuIdent.c:
	added feature check for 603 'TLBMISS exception GPRS shadowing'.

2007-12-06	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/raw_exception.c, new-exceptions/raw_exception.h:
	Removed all #ifdef <cpu_flavor>. All exception vectors are now
	always defined.
	Changed implementation of <cpu>_vector_is_valid() from 'case'
	statements to table lookup.
	Replaced 'ASM_VECTORS_CRITICAL' by a variable
	'bsp_raw_vector_is_405_critical' which is set at run-time.
	Removed PPC_MSR_EXC_BITS. The exception handling code
	(libbsp/shared/vectors/vectors.S and ../irq/irq_asm.S) now
	has a run-time check for these bits.
	Both files are now free of #if <cpu_flavor> constructs.

2007-12-05	Till Straumann <strauman@slac.stanford.edu>

	* Makefile.am, configure.ac, preinstall.am, 
	new-exceptions/e500_raw_exc_init.c: Started adding
	support for e500 CPU. Most stuff is borrowed from mpc6xx.

2007-12-05	Till Straumann <strauman@slac.stanford.edu>

	* rtems/powerpc/powerpc.h: added a #ifdef __ppc_generic
	branch. The goal is eventually to make this the starting
	point for cleanup (remove as many branches as possible;
	replace by run-time tests if necessary).

2007-12-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* new-exceptions/raw_exception.c: Conditionalize call to
	e500_setup_raw_exceptions() since that is not even in the tree yet.

2007-12-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* new-exceptions/raw_exception.c: Conditionalize some BOOKE vectors.

2007-12-05	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/raw_exception.c, new-exceptions/raw_exception.h:
	Added typedef for exception classes (classic, critical, ...
	synchronous / asynchronous). ppc_vector_is_valid() now returns
	the appropriate class.

2007-12-05	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/raw_exception.c: made all <cpu>_vector_is_valid()
	subroutines that are called from ppc_vector_is_valid() 'static'.

2007-12-05	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/raw_exception.c, new-exceptions/raw_exception.h:
	Qualified all exception vector symbols that are only defined
	#ifdef <cpu_flavor> with <cpu_flavor> in the symbol name.
	If the special flavor __ppc_generic is effective the ALL
	vector symbols are available and ppc_vector_is_valid() works
	for all supported CPUs (run-time check).
	This is work towards a #ifdef <cpu_flavor> free libcpu and
	exception framework.

2007-12-04	Joel Sherrill <joel.sherrill@OARcorp.com>

	* mpc5xx/console-generic/console-generic.c, mpc8260/timer/timer.c,
	new-exceptions/cpu.c, old-exceptions/cpu.c: Move interrupt_stack_size
	field from CPU Table to Configuration Table. Eliminate CPU Table from
	all ports. Delete references to CPU Table in all forms.

2007-12-04	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* mpc83xx/spi/mpc83xx_spidrv.c, mpc83xx/spi/mpc83xx_spidrv.h:
	added missing files
	
2007-12-03	Joel Sherrill <joel.sherrill@OARcorp.com>

	* mpc5xx/console-generic/console-generic.c: Moved most of the remaining
	CPU Table fields to the Configuration Table. This included
	pretasking_hook, predriver_hook, postdriver_hook, idle_task,
	do_zero_of_workspace, extra_mpci_receive_server_stack,
	stack_allocate_hook, and stack_free_hook. As a side-effect of this
	effort some multiprocessing code was made conditional and some style
	clean up occurred.

2007-12-03	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/include/cpuIdent.h: Correct conditionals and includes.

2007-11-30	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/raw_exception.c, new-exceptions/raw_exception.h,
	old-exception/cpu.c: define bsp_exceptions_in_RAM variable.
	This is probably only used by the simulator (were else
	can you install something to ROM ??).

2007-11-30	Till Straumann <strauman@slac.stanford.edu>

	* mpc6xx/mmu/bat.c, mpc6xx/mmu/pte121.c: use new
	feature-checks from cpuIdent.h rather than filtering
	CPU types when checking for availability of high BATs
	and an MMU with hardware page-table lookup.

2007-11-30	Till Straumann <strauman@slac.stanford.edu>

	* mpc6xx/clock/c_clock.c, mpc6xx/clock/c_clock.h:
	added support for bookE/ppc405 style CPUs where the
	decrementer works slightly differently.

2007-11-29	Till Straumann <strauman@slac.stanford.edu>

	* mpc6xx/exceptions/raw_exception.c, 
	mpc6xx/exceptions/raw_exception.h: removed. mpc6xx
	uses generic version in new-exceptions.

2007-11-29	Till Straumann <strauman@slac.stanford.edu>

	* shared/include/cpuIdent.h, shared/include/cpuIdent.c:
	Added a simple 'feature check' facility. Code should
	not check for a particular CPU type if possible but
	check the respective feature bit (e.g., 'has_altivec').
	This makes it much less cumbersome to add more CPU
	types in the future.

2007-11-29	Till Straumann <strauman@slac.stanford.edu>

	* mpc6xx/mmu/bat.c, mpc6xx/mmu/bat.h: Added support
	for setting & reading IBATs.

2007-11-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* ppc403/clock/clock.c: Now compiles and links.

2007-11-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* mpc5xx/clock/clock.c, mpc5xx/timer/timer.c, mpc8260/clock/clock.c,
	mpc8260/cpm/brg.c, mpc8260/timer/timer.c, mpc8xx/clock/clock.c,
	mpc8xx/console-generic/console-generic.c, mpc8xx/timer/timer.c,
	new-exceptions/raw_exception.c, old-exceptions/cpu.c,
	ppc403/clock/clock.c, ppc403/console/console.c,
	ppc403/console/console.c.polled, ppc403/console/console405.c,
	ppc403/ictrl/ictrl.c, ppc403/irq/ictrl.c, ppc403/timer/timer.c,
	ppc403/tty_drv/tty_drv.c: Eliminate PowerPC specific elements from
	the CPU Table. They have been replaced with variables named bsp_XXX
	as needed.

2007-11-28	Till Straumann <strauman@slac.stanford.edu>

	* shared/src/cache.c: removed redundant mpc8xx versions
	of flush/invalidate 1 cache line routines.

2007-11-13	Till Straumann <strauman@slac.stanford.edu>

	* shared/src/cache.c: moved generic operations
	(flush/invalidate 1 data line, invalidate 1 inst. line)
	from #ifdef <cpu_flavor> to general section (all CPUs).

2007-11-13	Till Straumann <strauman@slac.stanford.edu>

	* shared/src/cache_.h: include <libcpu/cache.h> only
	#ifdef _OLD_EXCEPTIONS - no need for <libcpu/cache.h>
	otherwise.

2007-11-13	Till Straumann <strauman@slac.stanford.edu>
	
	* shared/include/byteorder.h: fixed wrong pointer-type
	of ld_le32() (uint16_t* -> uint32_t*).

2007-11-06	Till Straumann <strauman@slac.stanford.edu>

	* mpc5xx/irq/irq.c, mpc5xx/exceptions/raw_exception.c,
	new-exceptions/raw_exception.c: test for non-NULL-ness before calling
	'on'/'off' methods so that users don't have to provide
	no-ops if they don't want this feature.

2007-10-25	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* mpc83xx/network/tsec.c:
	fixed typo in comment of attach function
	
2007-10-25	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* Makefile.am, mpc83xx/spi/mpc83xx_spidrv.c,  
	* mpc83xx/spi/mpc83xx_spidrv.h, mpc83xx/include/mpc83xx.h:
	added spi driver
	
2007-10-25	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* mpc83xx/i2c/mpc83xx_i2cdrv.c:  
	added IRQ support in I2C driver
	
2007-10-25	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* mpc83xx/network/tsec.c:  
	added statistics counters to tsec
	
2007-09-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1257/bsps
	* mpc5xx/exceptions/raw_exception.c, mpc5xx/irq/irq.c,
	mpc6xx/exceptions/raw_exception.c,
	mpc8260/exceptions/raw_exception.c,
	mpc8xx/exceptions/raw_exception.c, new-exceptions/raw_exception.c,
	ppc403/ictrl/ictrl.c, ppc403/irq/ictrl.c: Code outside of cpukit
	should use the public API for
	rtems_interrupt_disable/rtems_interrupt_enable. By bypassing the
	public API and directly accessing _CPU_ISR_Disable and
	_CPU_ISR_Enable, they were bypassing the compiler memory barrier
	directive which could lead to problems. This patch also changes the
	type of the variable passed into these routines and addresses minor
	style issues.

2007-09-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* Makefile.am, configure.ac: Do not build networking drivers if
	networking is disabled.

2007-09-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* mpc6xx/mmu/pte121.c: Fix warning.

2007-08-06	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* Makefile.am, mpc83xx/i2c/mpc83xx_i2cdrv.c:
	added i2c driver
	
2007-07-18	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* new-exceptions/raw_exception.c:
	added PPC_e300c1/2/3 to vector validation code
	
2007-07-09	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* configure.ac, Makefile.am, mpc83xx/include/mpc83xx.h,
	* mpc83xx/network/tsec.c, mpc83xx/network/tsec.h :
	added support for MPC83xx controllers
	
2007-07-05	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* configure.ac, Makefile.am:
	added ppc403 and ppc405 to "shared" conditional	
	adapted to shared setting
	
2007-07-02	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* ppc403/clock/clock.c, ppc403/console/console405.c,
	* ppc403/irq/ictrl.c, ppc403/irq/ictrl.h, ppc403/tty_drv/tty_drv.c:
	Adapted from old to new exception handling to prepare the "virtex" BSP
	
2007-07-02	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* Makefile.am, preinstall.am, new-exceptions/asm_utils.S,
	* new-exceptions/raw_exception.c, new-exceptions/raw_exception.h,
	* rtems/powerpc/powerpc.h, shared/include/cpuIdent.c shared/include/cpuIdent.h:
	Created a shared implementation of the PowerPC exception
	code. These files are a "superset" version of the various
	implementations that was available up to now.
	
2007-05-21	Joel Sherrill <joel.sherrill@oarcorp.com>

	* mpc6xx/clock/c_clock.c: Tinker with math so it does not overflow on
	psim and give a negative nanoseconds since last tick.

2007-05-07	Ralf Corsépius <ralf.corsepius@rtems.org>

	* mpc8xx/clock/clock.c: Remove unused var extclk_value.

2007-04-17	Joel Sherrill <joel@OARcorp.com>

	* mpc6xx/clock/c_clock.c: Add initial cut at nanoseconds since last
	tick handler.

2007-04-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shared/include/byteorder.h: Use uint*_t instead of char/short/int.

2007-03-12	Joel Sherrill <joel@OARcorp.com>

	* mpc6xx/mmu/mmuAsm.S: Correct license URL and/or fix mistake in
	copyright notice. Both of these mistakes appear to be from code
	submitted after these changes were made previously.

2007-01-16 Till Straumann <strauman@slac.stanford.edu>

	* mpc6xx/mmu/pte121.h, mpc6xx/mmu/pte121.c:
	Added SLAC/Stanford Authorship Note / Copyright + Liability Disclaimer.

2006-12-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: New BUG-REPORT address.

2006-10-17	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Require autoconf-2.60. Require automake-1.10.

2006-07-12	Till Straumann <strauman@slac.stanford.edu>

	* mpc6xx/mmu/bat.c, mpc6xx/mmu/pte121.c, shared/src/cache.c:
	Checked inline assembly code; added 'm' operands and
	paranoia 'memory' clobbers. Also, made sure that no
	pure input operands are modified by the asm.

2006-06-19	Till Straumann <strauman@slac.stanford.edu>

	* mpc6xx/mmu/mmuAsm.S: re-checked synchronization
	requirements when manipulating the caches against the book
	and updated 'dssall', 'sync' and 'isync's accordingly.

2006-06-19	Till Straumann <strauman@slac.stanford.edu>

	* mpc6xx/exceptions/raw_exception.c, mpc6xx/exceptions/raw_exception.h:
	Added altivec exception. Unfortunately, this doesn't fit
	the normal scheme of vector = exception # << 8. So we picked
	an unused vector number (currently 0xa) where we map the special
	vector 0xf20 (altivec).

2006-06-19	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/cpu.c, new-exceptions/cpu_asm.S: Never
	allow the FPU to be switched on for integer-only tasks
	(new gcc may use FP regs implicitly).
	FP context switch may be called from environment with no
	FPU available (ISR, int-only task) - switch FPU on
	for the switch and restore MSR_FP after it's done.

2006-05-16	Ralf Corsepius <ralf.corsepius@rtems.org>

	* configure.ac: Use RTEMS_AMPOLISH3.

2006-04-05	Victor V. Vengerov <Victor.Vengerov@oktetlabs.ru>

	* mpc6xx/clock/c_clock.c: Now works with MPCI SHM driver.

2006-01-20	Till Straumann <strauman@slac.stanford.edu>

	* mpc6xx/mmu/pte121.c: consistency check now warns instead
	of reporting an error when coming across a non 1:1 VSID;
	fix: triv121IsRangeMapped() needs to convert segment offset
	into a page index if the vsid argument is non-special.

2006-01-05	Till Straumann <strauman@slac.stanford.edu>
	* shared/include/cpuIdent.c: Accept PPC_PSIM as a
	known variant.

2005-12-31	Ralf Corsepius <ralf.corsepius@rtems.org>

	PR 851/bsps
	* mpc6xx/exceptions/raw_exception.c: Add PPC_603le.

2005-12-31	Ralf Corsepius <ralf.corsepius@rtems.org>

	* mpc6xx/exceptions/raw_exception.c: Cosmetics.

2005-11-21	Till Straumann <strauman@slac.stanford.edu>

	* new-exceptions/cpu_asm.S: the book says a context
	synchronizing instruction (isync) is necessary after flipping
	certain bits (e.g, MSR_FP) in msr -- since this could happen as
	part of a context switch I added 'isync'.

2005-11-07	Ralf Corsepius <ralf.corsepius@rtems.org>

	* mpc6xx/mmu/pte121.c: Eliminate unsigned32.
	* mpc8xx/clock/clock.c: Eliminate rtems_unsigned32.

2005-11-04	Ralf Corsepius <ralf.corsepius@rtems.org>

	* shared/include/byteorder.h: Remove __arch_swap (Unused).
	* Makefile.am: Partially cleanup EXTRA_DIST.

2005-11-03	Till Straumann <strauman@slac.stanford.edu>

	* mpc6xx/clock/c_clock.c: disable interrupts around decrementer
	update to eliminate a race condition

2005-11-02	Till Straumann <strauman@slac.stanford.edu>

	* mpc6xx/mmu/pte121.c, mpc6xx/mmu/pte121.h: enhancements to mpc6xx
	page table support - PTEs can now be modified even if the page table
	is already active; bugfix: address range crossing 256MB boundary was
	not handled correctly
	* mpc6xx/mmu/bat.c, mpc6xx/mmu/bat.h, mpc6xx/mmu/mmuAsm.S: moved
	assembly code to C; setdbat now supports high bats on 7450 CPUs;
	added argument checking to setdbat; added getdbat; moved early
	initialization code (clear_bats) from BSP to libcpu
	(CPU_clear_bats_early)
	* configure.ac, mpc6xx/exceptions/raw_exception.c,
	shared/include/cpuIdent.c, shared/include/cpuIdent.h: recognize
	mpc7457 CPU; added definitions for high bats (#4..7) on 7450 CPUs

2005-09-12	Thomas Doerfler <Thomas.Doerfler@imd-systems.de>

	PR 527/bsps
	PR 822/bsps
	* mpc8xx/clock/clock.c: Currently the MBX8xx BSP does not boot,
	because some logical errors are in the startup code. Additionally,
	the mpc8xx shared clock driver does not support the clocking scheme
	of some of the board variants, which are clocked from a 32768Hz (!)
	external crystal.

2005-08-12	Phil Torre <ptorre@zetron.com>

	PR 816/bsps
	* mpc8xx/include/mpc8xx.h: The struct which describes SCC Ethernet
	mode parameters (m8xxSCCENparms_t) does not match the hardware:
	members taddr_h and taddr_l are transposed. When loading new
	multicast group addresses into the hash table, the wrong hash bit is
	set.

2005-08-05	Ralf Corsepius <ralf.corsepius@rtems.org>

	* Makefile.am: Unconditionally initialize include_libcpu_HEADERS.

2005-07-28	Eric Norum <norume@aps.anl.gov>

	PR 773/bsps
	* mpc6xx/clock/c_clock.c: Changes provided by Phillip Sorensen
	<pas37@cornell.edu> to get MVME5500 BSP running.

2005-06-17	Joel Sherrill <joel@OARcorp.com>

	* mpc5xx/vectors/vectors.h: Add hack to avoid warning.

2005-05-17	Jennifer Averett <jennifer.averett@oarcorp.com>

	* mpc5xx/irq/irq.c, mpc5xx/irq/irq.h,
	mpc8xx/console-generic/console-generic.c: Modified to use
	rtems/irq.h.

2005-05-11	Ralf Corsepius <ralf.corsepius@rtems.org>

	* configure.ac: Remove mpc6xx/Makefile.
	* Makefile.am: Merge-in ppc403/Makefile.am.
	* ppc403/Makefile.am, mpc8260/Makefile.am, mpc8xx/Makefile.am,
	mpc6xx/Makefile.am, mpc505/Makefile.am, mpc5xx/Makefile.am: Remove.
	* Makefile.am: Merge-in mpc8260/Makefile.am.
	* configure.ac: Remove mpc8260/Makefile.
	* Makefile.am: Merge-in mpc8xx/Makefile.am.
	* configure.ac: Remove mpc8xx/Makefile.
	* configure.ac: Remove mpc5xx/Makefile. Remove mpc505/Makefile.
	* Makefile.am: Merge-in mpc5xx/Makefile.am. Merge-in
	mpc505/Makefile.am.
	* configure.ac: Remove ppc403/Makefile.
	* Makefile.am: Merge-in mpc6xx/Makefile.am.
	* preinstall.am, preinstall.am, preinstall.am, preinstall.am,
	preinstall.am: Regenerate.

2005-05-10	Ralf Corsepius <ralf.corsepius@rtems.org>

	* Makefile.am: Merge-in shared/Makefile.am.
	* mpc5xx/console-generic/console-generic.c: Eliminate
	rtems_unsigned16.
	* configure.ac: Add AMPOLISH3.
	* shared/Makefile.am: Remove.
	* preinstall.am: New.
	* configure.ac: Remove shared/Makefile.
	* Makefile.am: include preinstall.am.
	* preinstall.am: Regenerate.

2005-05-05	Jennifer Averett <jennifer.averett@oarcorp.com>

	* mpc8xx/console-generic/console-generic.c: Added parameter to ISRs.

2005-05-03	Joel Sherrill <joel@OARcorp.com>

	* mpc8260/cpm/dpram.c, mpc8260/timer/timer.c, mpc8xx/cpm/dpram.c:
	Remove warnings.

2005-04-25	Jennifer Averett <jennifer.averett@oarcorp.com>

	PR 779/bsp
	* mpc5xx/console-generic/console-generic.c, mpc5xx/irq/irq.c,
	mpc5xx/irq/irq.h, mpc5xx/irq/irq_init.c: Add parameter to powerpc
	interrupt handler routines

2005-04-15	Jennifer Averett <jennifer.averett@oarcorp.com>

	* mpc6xx/clock/c_clock.c, mpc6xx/clock/c_clock.h,
	mpc8260/console-generic/console-generic.c: add parameter to new
	exception interrupt handlers in powerpc bsps

2005-02-17	Ralf Corsepius <ralf.corsepius@rtems.org>

	* new-exceptions/cpu.c, rtems/powerpc/powerpc.h: Remove
	CPU_MINIMUM_STACK_FRAME_SIZE. Use PPC_MINIMUM_STACK_FRAME_SIZE
	instead.
	* rtems/powerpc/powerpc.h: Add PPC_MINIMUM_STACK_FRAME_SIZE.

2005-02-15	Ralf Corsepius <ralf.corsepius@rtems.org>

	* ppc403/console/console405.c: Rename round to spiBaudRound
	(Conflict with C99). Make spiBaudRound static.
	* mpc8260/mmu/mmu.c: Use _CPU_MSR_GET instead of _CPU_MSR_Value.
	(Unify old/new-exception processing API).
	* old-exceptions/rtems/score/ppc_offs.h, old-exceptions/README,
	old-exceptions/TODO, old-exceptions/cpu.c, old-exceptions/cpu_asm.S,
	old-exceptions/irq_stub.S, old-exceptions/ppccache.c: New (Copied
	from ../../libbsp/powerpc/support/old_exception_processing)
	* new-exceptions/cpu.c: Add CPU_MINIMUM_STACK_FRAME_SIZE.
	* new-exceptions/cpu.c (_CPU_ISR_install_vector): New.
	* old-exceptions/cpu.c: Use _CPU_MSR_GET instead of _CPU_MSR_Value
	(Unify old/new exception processing API).
	* new-exceptions/cpu.c, new-exceptions/cpu_asm.S: New (Copied from 
	../../libbsp/powerpc/support/new_exception_processing).
	* Makefile.am: Reflect changes above.

2005-02-14	Ralf Corsepius <ralf.corsepius@rtems.org>

	* old-exceptions/cpu.c (ppc_exception_vector_addr): Merge ppc603 and
	ppc603e cases.
	* rtems/powerpc/powerpc.h: Remove PPC_ALIGNMENT.
	* mpc8xx/mmu/mmu.c, rtems/powerpc/cache.h, rtems/powerpc/powerpc.h,
	old-exceptions/cpu.c, old-exceptions/cpu_asm.S,
	old-exceptions/irq_stub.S, new-exceptions/cpu.c,
	new-exceptions/cpu_asm.S: #include <rtems/powerpc/powerpc.h>.
	* rtems/powerpc/powerpc.h: Remove mpc603e specific 
	PPC_TLB_*/PPC_IRQ_* defines. Use mpc603 specific defines on mpc603e.

2005-02-13	Ralf Corsepius <ralf.corsepius@rtems.org>

	* rtems/powerpc/powerpc.h: New header guard.
	* old-exceptions/cpu.c: Add _PPC_MSR_DISABLE_MASK.
	* mpc5xx/include/mpc5xx.h, mpc5xx/include/console.h,
	mpc5xx/exceptions/raw_exception.h, mpc5xx/irq/irq.h,
	mpc5xx/vectors/vectors.h, mpc6xx/exceptions/raw_exception.h,
	mpc6xx/mmu/bat.h, mpc6xx/mmu/pte121.h, mpc6xx/clock/c_clock.h,
	mpc8260/include/mpc8260.h, mpc8260/include/console.h,
	mpc8260/include/cpm.h, mpc8260/exceptions/raw_exception.h,
	mpc8260/include/mmu.h, mpc8xx/include/mpc8xx.h,
	mpc8xx/include/console.h, mpc8xx/include/cpm.h,
	mpc8xx/exceptions/raw_exception.h, mpc8xx/include/mmu.h,
	ppc403/ictrl/ictrl.h, ppc403/tty_drv/tty_drv.h, shared/include/io.h,
	shared/include/mmu.h, shared/include/page.h,
	shared/include/byteorder.h, shared/include/pgtable.h,
	shared/include/cpuIdent.h,shared/include/spr.h,
	shared/src/stackTrace.h: New header guards.
	* rtems/powerpc/powerpc.h: New (Copy of
	cpukit/score/cpu/powerpc/rtems/score/powerpc.h).

2005-02-11	Ralf Corsepius <ralf.corsepius@rtems.org>

	* configure.ac: subdir-objects. Add compiler check for old/new-style
	exception processing.
	* mpc8260/cpm/dpram.c, mpc8xx/cpm/dpram.c: Remove local rtems_panic,
	use #include <rtems/error.h>.
	* Makefile.am: Build exception processing in  old-exceptions rsp.
	new-exceptions subdirs (Merge-in former libbsp/powerpc/support/*).
	* old-exceptions/Makefile.am, old-exceptions/configure.ac,
	new-exceptions/Makefile.am, new-exceptions/configure.ac: Remove
	(Unused).

2005-02-10	Ralf Corsepius <ralf.corsepius@rtems.org>

	* mpc505/vectors/vectors.S, ppc403/vectors/vectors.S,
	old-exceptions/cpu.c, old-exceptions/cpu_asm.S,
	old-exceptions/irq_stub.S, old-exceptions/rtems/score/ppc_offs.h:
	Remove PPC_ABI_POWEROPEN.

2005-02-09	Ralf Corsepius <ralf.corsepius@rtems.org>

	* rtems/powerpc/cache.h, rtems/powerpc/debugmod.h: New header
	guards.
	* mpc505/vectors/vectors.S, ppc403/vectors/vectors.S,
	old-exceptions/cpu.c, old-exceptions/cpu_asm.S,
	old-exceptions/irq_stub.S, old-exceptions/rtems/score/ppc_offs.h:
	Remove PPC_ABI_GCC27.
	* ppc403/vectors/vectors.S: Remove XCOFF support.

2005-01-07	Ralf Corsepius <ralf.corsepius@rtems.org>

	* mpc505/Makefile.am, mpc5xx/Makefile.am, mpc6xx/Makefile.am,
	mpc8260/Makefile.am, mpc8xx/Makefile.am, ppc403/Makefile.am,
	shared/Makefile.am, old-exceptions/Makefile.am,
	new-exceptions/Makefile.am: Eliminate CFLAGS_OPTIMIZE_V.

2005-01-04	Joel Sherrill <joel@OARcorp.com>

	* ppc403/tty_drv/tty_drv.c: Remove warnings.

2005-01-02	Ralf Corsepius <ralf.corsepius@rtems.org>

	* mpc505/Makefile.am, mpc5xx/Makefile.am, mpc6xx/Makefile.am,
	mpc8260/Makefile.am, mpc8xx/Makefile.am, ppc403/Makefile.am,
	shared/Makefile.am, old-exceptions/Makefile.am,
	new-exceptions/Makefile.am: Remove build-variant support.

2004-11-22	Jennifer Averett <jennifer@OARcorp.com>

	PR 581/bsps
	* mpc6xx/exceptions/raw_exception.c, shared/include/cpuIdent.h:
	Converting PSIM to new exception model required adding PSIM as
	PowerPC CPU model.

2004-11-20	Ralf Corsepius <ralf.corsepius@rtems.org>

	* powerpc/shared/include/cpuIdent.c,
	powerpc/shared/include/cpuIdent.h: Add 603le. (Submitted by
	Thomas.Doerfler <Thomas.Doerfler@imd-systems.de> as part of the
	patch attached to PR 703).

2004-11-10	Richard Campbell <richard.campbell@oarcorp.com>

	* configure.ac, mpc6xx/exceptions/raw_exception.c,
	mpc6xx/exceptions/raw_exception.h, mpc6xx/mmu/bat.c,
	mpc6xx/mmu/bat.h, mpc6xx/mmu/mmuAsm.S, shared/include/cpuIdent.c,
	shared/include/cpuIdent.h: Add MPC8240 and MPC8245 support. There
	was also a significant amount of spelling and whitespace cleanup.

2004-10-21	Ralf Corsepius <ralf_corsepius@rtems.org>

	* mpc5xx/clock/clock.c, mpc5xx/include/mpc5xx.h
	mpc5xx/timer/timer.c: Use POSIX fixed size types.

2004-10-20	Ralf Corsepius <ralf_corsepius@rtems.org>

	PR 696/bsps
	* old-exceptions/cpu.c: Include bsp.h.

2004-10-20	Eric Norum <norume@aps.anl.gov>

	* configure.ac, mpc6xx/exceptions/raw_exception.c,
	mpc6xx/mmu/mmuAsm.S, mpc6xx/mmu/pte121.c, shared/include/cpuIdent.c,
	shared/include/cpuIdent.h: Add Kate Feng's MPC7455 support.

2004-10-19	Ralf Corsepius <ralf_corsepius@rtems.org>

	* configure.ac: Remove RTEMS_ENABLE_BARE.

2004-09-24	Ralf Corsepius <ralf_corsepius@rtems.org>

	* configure.ac, old-exceptions/configure.ac,
	new-exceptions/configure.ac: Require automake > 1.9.

2004-05-22	Till Strauman <strauman@slac.stanford.edu>

	PR 619/bsps
	* mpc6xx/clock/c_clock.c: The PPC decrementer must be reloaded on
	each clock tick. Currently, this is done by just reloading a fixed
	value. The attached patch takes into account the time that elapsed
	since the decrementer crossed zero in order to adjust the value to
	be re-loaded. Without the patch, the effective system clock cycle is
	increased by the exception handler latency.

2004-04-13	Ralf Corsepius <ralf_corsepius@rtems.org>

	* mpc505/ictrl/ictrl.c, mpc505/vectors/vectors.S,
	mpc6xx/exceptions/raw_exception.c,
	mpc8260/exceptions/raw_exception.c,
	mpc8xx/exceptions/raw_exception.c, rtems/powerpc/cache.h,
	mpc5xx/ictrl/ictrl.c, mpc5xx/exceptions/raw_exception.c: Include
	<rtems/score/powerpc.h> instead of <rtems/score/ppc.h>.
	* mpc5xx/clock/clock.c, mpc5xx/irq/irq_asm.S,
	mpc5xx/vectors/vectors.S: Reflect new locations of cpukit headers.

2004-04-12	David Querbach <querbach@realtime.bc.ca>

	* mpc5xx/exceptions/asm_utils.S: Removed.
	* README, configure.ac, mpc5xx/Makefile.am,
	mpc5xx/exceptions/raw_exception.c,
	mpc5xx/exceptions/raw_exception.h, mpc5xx/timer/timer.c,
	shared/include/cpuIdent.h: addition of a significant amount of
	MPC5xx support as part of the addition of the SS555 BSP.
	* mpc5xx/README, mpc5xx/clock/clock.c,
	mpc5xx/console-generic/console-generic.c, mpc5xx/include/console.h,
	mpc5xx/include/mpc5xx.h, mpc5xx/irq/irq.c, mpc5xx/irq/irq.h,
	mpc5xx/irq/irq_asm.S, mpc5xx/irq/irq_init.c,
	mpc5xx/vectors/vectors.S, mpc5xx/vectors/vectors.h,
	mpc5xx/vectors/vectors_init.c: New files.

2004-04-02	Ralf Corsepius <ralf_corsepius@rtems.org>

	* ppc403/vectors/align_h.S: Include <rtems/asm.h> instead of
	<asm.h>.

2004-04-01	Ralf Corsepius <ralf_corsepius@rtems.org>

	* mpc505/vectors/vectors.S, mpc6xx/exceptions/asm_utils.S,
	mpc6xx/mmu/mmuAsm.S, mpc8260/exceptions/asm_utils.S,
	mpc8xx/exceptions/asm_utils.S, ppc403/vectors/vectors.S,
	mpc5xx/exceptions/asm_utils.S, old-exceptions/cpu_asm.S,
	new-exceptions/cpu_asm.S: Include <rtems/asm.h> instead of <asm.h>.
	* mpc8260/clock/clock.c, mpc8xx/clock/clock.c, ppc403/clock/clock.c:
	Include <rtems/clockdrv.h> instead of <clockdrv.h>.

2004-03-31	Ralf Corsepius <ralf_corsepius@rtems.org>

	* mpc6xx/timer/timer.c: Cosmetics.
	* old-exceptions/cpu.c, old-exceptions/ppccache.c,
	new-exceptions/cpu.c: Convert to using c99 fixed size types.

2004-03-30	Ralf Corsepius <ralf_corsepius@rtems.org>

	* mpc505/timer/timer.c, mpc5xx/timer/timer.c,
	mpc6xx/clock/c_clock.c, mpc6xx/timer/timer.c, mpc8260/clock/clock.c,
	mpc8260/console-generic/console-generic.c, mpc8260/cpm/cp.c,
	mpc8260/cpm/dpram.c, mpc8260/include/cpm.h, mpc8260/include/mmu.h,
	mpc8260/include/mpc8260.h, mpc8260/mmu/mmu.c, mpc8260/timer/timer.c,
	mpc8xx/clock/clock.c, mpc8xx/console-generic/console-generic.c,
	mpc8xx/cpm/cp.c, mpc8xx/cpm/dpram.c, mpc8xx/include/cpm.h,
	mpc8xx/include/mmu.h, mpc8xx/include/mpc8xx.h, mpc8xx/mmu/mmu.c,
	mpc8xx/timer/timer.c, ppc403/clock/clock.c,
	ppc403/console/console.c, ppc403/console/console405.c,
	ppc403/ictrl/ictrl.c, ppc403/ictrl/ictrl.h, ppc403/timer/timer.c,
	ppc403/tty_drv/tty_drv.c, rtems/powerpc/cache.h, shared/src/cache.c:
	Convert to using c99 fixed size types.

2004-03-26	Ralf Corsepius <ralf_corsepius@rtems.org>

	* configure.ac: Add 2nd argument (rtems_updir) to RTEMS_TOP.

2004-03-09	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* README: Add "mpc5xx (mpc565)", because Wilfried B. mentioned the 
	mpc5xx being used on mpc565.

2004-03-08	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	PR 587/bsps
	* Makefile.am, configure.ac: Reflect having added mpc5xx.
	* shared/include/cpuIdent.h, shared/include/cpuIdent.c: Add defines
	for MPC_5XX.
	* mpc5xx/Makefile.am: New.
	* mpc5xx/exceptions/asm_utils.S,  mpc5xx/exceptions/raw_exception.c,
	mpc5xx/exceptions/raw_exception.h, mpc5xx/ictrl/ictrl.c,
	mpc5xx/ictrl/ictrl.h, mpc5xx/timer/timer.c: New (Submission from
	Wilfried Busalski <w.busalski@lancier-monitoring.de>).

2004-03-05	Joel Sherrill <joel@OARcorp.com>

	* mpc6xx/mmu/pte121.c: Add missing ifdef DEBUG to remove warning for
	unused static routine.

2004-02-17	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* mpc505/Makefile.am: Fix typo.

2004-02-06	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* mpc505/Makefile.am, mpc6xx/Makefile.am, mpc8260/Makefile.am,
	mpc8xx/Makefile.am, ppc403/Makefile.am: Don't include .../lib.am.

2004-01-30	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* old-exceptions/configure.ac, new-exceptions/configure.ac: Add
	RTEMS_PROG_CCAS.
	* wrapup/Makefile.am: Remove.
	* old-exceptions/Makefile.am, new-exceptions/Makefile.am: Use
	automake compilation rules.
	* shared/Makefile.am: Use automake compilation rules. Build *.rels.
	* configure.ac: Remove wrapup.

2004-01-21	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* old-exceptions/Makefile.am: Add PREINSTALL_DIRS.
	* Makefile.am, mpc505/Makefile.am, mpc6xx/Makefile.am, 
	mpc8260/Makefile.am, mpc8xx/Makefile.am, ppc403/Makefile.am, 
	shared/Makefile.am: Use automake compilation rules. Add
	PREINSTALL_DIRS.
	* configure.ac: Require automake >= 1.8.2.

2004-01-14	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am, old-exceptions/Makefile.am: Re-add dirstamps to
	PRE/TMPINSTALL_FILES. Add PRE/TMPINSTALL_FILES to CLEANFILES.
	* mpc505/Makefile.am, mpc6xx/Makefile.am, mpc8260/Makefile.am,
	mpc8xx/Makefile.am, ppc403/Makefile.am, shared/Makefile.am: Ditto.

2004-01-13	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* shared/Makefile.am: Fix typo  EXTRA_DIST = $(libcpuspec_C_FILES)
	* mpc6xx/Makefile.am: Remove libcpuspec.a (Unused).
	* mpc505/Makefile.am: Fix typo vectors/vectors.S.

2003-12-19	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* shared/Makefile.am: Use $(top_srcdir)/../shared instead of
	relative subdirs.
	* ppc403/Makefile.am: Fix typo in vectors' compilation rule.

2003-12-16	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Reflect changes to mpc505/Makefile.ams.
	* configure.ac: Reflect changes to mpc8xx/Makefile.ams.
	* ppc403/clock/Makefile.am,
	ppc403/console/Makefile.am, ppc403/ictrl/Makefile.am,
	ppc403/timer/Makefile.am, ppc403/tty_drv/Makefile.am,
	ppc403/vectors/Makefile.am, mpc505/ictrl/Makefile.am,
	mpc505/timer/Makefile.am, mpc505/vectors/Makefile.am,
	mpc8xx/clock/Makefile.am, mpc8xx/console-generic/Makefile.am,
	mpc8xx/cpm/Makefile.am, mpc8xx/exceptions/Makefile.am,
	mpc8xx/mmu/Makefile.am, mpc8xx/timer/Makefile.am,
	mpc6xx/clock/Makefile.am, mpc6xx/exceptions/Makefile.am,
	mpc6xx/mmu/Makefile.am, mpc6xx/timer/Makefile.am,
	mpc6xx/wrapup/Makefile.am, mpc8260/clock/Makefile.am,
	mpc8260/console-generic/Makefile.am, mpc8260/cpm/Makefile.am,
	mpc8260/exceptions/Makefile.am, mpc8260/mmu/Makefile.am,
	mpc8260/timer/Makefile.am: Remove.
	* ppc403/Makefile.am, mpc505/Makefile.am, mpc8xx/Makefile.am,
	mpc6xx/Makefile.am, mpc8260/Makefile.am: Merge-in Makefile.ams
	above.
	* configure.ac: Remove mpc6xx/*/Makefile,  mpc8260/*/Makefile.
	* configure.ac: Reflect changes to ppc403/Makefile.ams.

2003-12-15	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* shared/include/Makefile.am, shared/src/Makefile.am: Remove.
	* shared/Makefile.am: Merge-in Makefile.ams above.
	* configure.ac: Reflect changes above.

2003-12-12	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am, mpc505/ictrl/Makefile.am, mpc6xx/clock/Makefile.am,
	mpc6xx/exceptions/Makefile.am, mpc6xx/mmu/Makefile.am,
	mpc8260/Makefile.am, mpc8260/exceptions/Makefile.am,
	mpc8xx/Makefile.am, mpc8xx/exceptions/Makefile.am,
	ppc403/ictrl/Makefile.am, ppc403/tty_drv/Makefile.am,
	shared/include/Makefile.am, shared/src/Makefile.am,
	old-exceptions/Makefile.am, new-exceptions/Makefile.am: Use mkdir_p.
	Remove dirs from PRE/TMPINSTALL_FILES.
	* configure.ac, old-exceptions/configure.ac,
	new-exceptions/configure.ac: Require automake >= 1.8, autoconf >=
	2.59.

2003-12-11	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* wrapup/Makefile.am: Build libcpu.a. Don't preinstall libcpu.a

2003-12-02	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* mpc505/ictrl/Makefile.am: Remove all-local,
	mpc505/timer/Makefile.am: Remove all-local,
	mpc505/vectors/Makefile.am: Remove all-local,
	mpc6xx/clock/Makefile.am: Remove all-local,
	mpc6xx/exceptions/Makefile.am: Remove all-local,
	mpc6xx/mmu/Makefile.am: Remove all-local, mpc6xx/timer/Makefile.am:
	Remove all-local, mpc6xx/wrapup/Makefile.am: Remove all-local,
	mpc8260/clock/Makefile.am: Remove all-local,
	mpc8260/console-generic/Makefile.am: Remove all-local,
	mpc8260/cpm/Makefile.am: Remove all-local,
	mpc8260/exceptions/Makefile.am: Remove all-local,
	mpc8260/mmu/Makefile.am: Remove all-local,
	mpc8260/timer/Makefile.am: Remove all-local,
	mpc8xx/clock/Makefile.am: Remove all-local,
	mpc8xx/console-generic/Makefile.am: Remove all-local,
	mpc8xx/cpm/Makefile.am: Remove all-local,
	mpc8xx/exceptions/Makefile.am: Remove all-local,
	mpc8xx/mmu/Makefile.am: Remove all-local, mpc8xx/timer/Makefile.am:
	Remove all-local, ppc403/clock/Makefile.am: Remove all-local,
	ppc403/console/Makefile.am: Remove all-local,
	ppc403/ictrl/Makefile.am: Remove all-local,
	ppc403/timer/Makefile.am: Remove all-local,
	ppc403/tty_drv/Makefile.am: Remove all-local,
	ppc403/vectors/Makefile.am: Remove all-local,
	shared/include/Makefile.am: Remove all-local,
	shared/src/Makefile.am: Remove all-local, wrapup/Makefile.am: Remove
	all-local, old-exceptions/Makefile.am: Remove all-local,
	new-exceptions/Makefile.am: Remove all-local: $(ARCH).
	* new-exceptions/Makefile.am: Remove include_rtems_score_HEADERS.
	Reformat for preinstallation dirstamp support.
	* old-exceptions/Makefile.am: Reformat for preinstallation dirstamp
	support.

2003-12-01	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am, mpc505/ictrl/Makefile.am, mpc6xx/clock/Makefile.am,
	mpc6xx/exceptions/Makefile.am, mpc6xx/mmu/Makefile.am,
	mpc8260/Makefile.am, mpc8260/exceptions/Makefile.am,
	mpc8xx/Makefile.am, mpc8xx/exceptions/Makefile.am,
	ppc403/ictrl/Makefile.am, ppc403/tty_drv/Makefile.am,
	shared/include/Makefile.am, shared/src/Makefile.am: Reformat. Use
	dirstamp for preinstallation.
	* mpc505/Makefile.am, mpc505/timer/Makefile.am,
	mpc505/vectors/Makefile.am, mpc6xx/Makefile.am,
	mpc6xx/timer/Makefile.am, mpc6xx/wrapup/Makefile.am,
	mpc8260/clock/Makefile.am, mpc8260/console-generic/Makefile.am,
	mpc8260/cpm/Makefile.am, mpc8260/mmu/Makefile.am,
	mpc8260/timer/Makefile.am, mpc8xx/clock/Makefile.am,
	mpc8xx/console-generic/Makefile.am, mpc8xx/cpm/Makefile.am,
	mpc8xx/mmu/Makefile.am, mpc8xx/timer/Makefile.am,
	ppc403/Makefile.am, ppc403/clock/Makefile.am,
	ppc403/console/Makefile.am, ppc403/timer/Makefile.am,
	ppc403/vectors/Makefile.am, shared/Makefile.am, wrapup/Makefile.am:
	Reformat.

2003-10-22	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac, old-exceptions/configure.ac,
	new-exceptions/configure.ac: Remove RTEMS_CANONICAL_HOST.

2003-10-21	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac, old-exceptions/configure.ac,
	new-exceptions/configure.ac: Remove RTEMS_CHECK_CPU.

2003-09-04	Joel Sherrill <joel@OARcorp.com>

	* mpc6xx/clock/c_clock.c, mpc6xx/clock/c_clock.h,
	mpc6xx/exceptions/raw_exception.c,
	mpc6xx/exceptions/raw_exception.h, mpc6xx/mmu/bat.c,
	mpc6xx/mmu/bat.h, mpc6xx/mmu/mmuAsm.S, mpc6xx/timer/timer.c,
	mpc8260/clock/clock.c, mpc8260/console-generic/console-generic.c,
	mpc8260/cpm/brg.c, mpc8260/exceptions/raw_exception.c,
	mpc8260/exceptions/raw_exception.h, mpc8260/include/cpm.h,
	mpc8260/include/mmu.h, mpc8260/mmu/mmu.c, mpc8260/timer/timer.c,
	mpc8xx/clock/clock.c, mpc8xx/console-generic/console-generic.c,
	mpc8xx/exceptions/raw_exception.c,
	mpc8xx/exceptions/raw_exception.h, mpc8xx/include/cpm.h,
	mpc8xx/include/mmu.h, mpc8xx/mmu/mmu.c, mpc8xx/timer/timer.c,
	ppc403/clock/clock.c, ppc403/console/console.c.polled,
	ppc403/timer/timer.c, rtems/powerpc/debugmod.h,
	shared/include/byteorder.h, shared/include/cpuIdent.c,
	shared/include/cpuIdent.h, shared/include/io.h,
	shared/include/mmu.h, shared/include/page.h,
	shared/include/pgtable.h, shared/include/spr.h,
	old-exceptions/cpu.c, old-exceptions/cpu_asm.S,
	new-exceptions/cpu.c, new-exceptions/cpu_asm.S: URL for license
	changed.
	* mpc505/timer/timer.c, ppc403/console/console.c,
	ppc403/console/console405.c: Removed incorrect statement about
	copyright assignment.

2003-08-20	Joel Sherrill <joel@OARcorp.com>

	* mpc8260/clock/clock.c: Correct copyright statements.

2003-08-18	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am, old-exceptions/Makefile.am,
	new-exceptions/Makefile.am: Reflect having moved aclocal/.

2003-08-16	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am, mpc505/Makefile.am, mpc505/ictrl/Makefile.am,
	mpc505/timer/Makefile.am, mpc505/vectors/Makefile.am,
	mpc6xx/Makefile.am, mpc6xx/clock/Makefile.am,
	mpc6xx/exceptions/Makefile.am, mpc6xx/mmu/Makefile.am,
	mpc6xx/timer/Makefile.am, mpc6xx/wrapup/Makefile.am,
	mpc8260/Makefile.am, mpc8260/clock/Makefile.am,
	mpc8260/console-generic/Makefile.am, mpc8260/cpm/Makefile.am,
	mpc8260/exceptions/Makefile.am, mpc8260/mmu/Makefile.am,
	mpc8260/timer/Makefile.am, mpc8xx/Makefile.am,
	mpc8xx/clock/Makefile.am, mpc8xx/console-generic/Makefile.am,
	mpc8xx/cpm/Makefile.am, mpc8xx/exceptions/Makefile.am,
	mpc8xx/mmu/Makefile.am, mpc8xx/timer/Makefile.am,
	ppc403/Makefile.am, ppc403/clock/Makefile.am,
	ppc403/console/Makefile.am, ppc403/ictrl/Makefile.am,
	ppc403/timer/Makefile.am, ppc403/tty_drv/Makefile.am,
	ppc403/vectors/Makefile.am, shared/Makefile.am,
	shared/include/Makefile.am, shared/src/Makefile.am,
	wrapup/Makefile.am, old-exceptions/Makefile.am,
	new-exceptions/Makefile.am: Reflect having moved automake/.

2003-08-11	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac, old-exceptions/configure.ac,
	new-exceptions/configure.ac: Use rtems-bugs@rtems.com as bug report
	email address.

2003-08-08	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* wrapup/Makefile.am (FAMILY_OBJS): Remove *exception_processing.

2003-07-08	Joel Sherrill <joel@OARcorp.com>

	PR 416/bsps
	* ppc403/ictrl/ictrl.c (ictrl_isr): We acknolwegde the interrupt in
	interrupt controller (clr_exisr(mask)) before calling the interrupt
	handler that will acnowledge the interrupt source. This results in
	the interrupt beeing seen a second time by the interrupt controller.
	Reported and fixed by El Kolli Yacine <yacine.elkolli@crf.canon.fr>.

2003-03-25	Till Straumann <strauman@slac.stanford.edu>

	PR 349/bsps
	* shared/include/cpuIdent.c: Readd PPC604r CPU.

2003-03-25	Thomas Doerfler <Thomas.Doerfler@imd-systems.de>

	PR 368/filesystems
	* mpc8xx/include/mpc8xx.h: Add PCMCIA registers.

2003-03-18	Till Straumann <strauman@slac.stanford.edu>

	PR 356/bsps
	* new-exceptions/cpu.c: This patch makes RTEMS/PowerPC eabi
	compliant.

2003-03-06	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac, old-exceptions/configure.ac,
	new-exceptions/configure.ac: Remove AC_CONFIG_AUX_DIR.

2003-02-20	Till Straumann <strauman@slac.stanford.edu>

	PR 349/bsps
	* mpc6xx/exceptions/raw_exception.c, mpc6xx/mmu/bat.c,
	mpc6xx/mmu/pte121.c, shared/include/cpuIdent.c,
	shared/include/cpuIdent.h, shared/src/Makefile.am,
	shared/src/stack.c, shared/src/stackTrace.h, powerpc/registers.h: -
	undo improper 'fix' who broke mpc604r identification - fix: 7400
	identification PVR value was wrong - enhance 'setdbat()' to switch
	OFF a given BAT if called with 0 size - fix: page table support
	bugfix - enhancement: provide routines to take and print stack trace
	snapshots - add definitions for HID1 and DABR SPRs

2003-02-14	Greg Menke <gregory.menke@gsfc.nasa.gov>

	PR 348/bsps
	* mpc6xx/exceptions/raw_exception.c: Add PPC_603ev as required by
	MTX603e BSP.

2003-02-11	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac, old-exceptions/configure.ac,
	new-exceptions/configure.ac: AM_INIT_AUTOMAKE([1.7.2]).
	* configure.ac, old-exceptions/configure.ac,
	new-exceptions/configure.ac: AC_PREREQ(2.57).

2002-12-19	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Remove RTEMS_CHEC_CUSTOM_BSP.
	* mpc505/ictrl/Makefile.am, mpc505/timer/Makefile.am,
	mpc505/vectors/Makefile.am, mpc6xx/clock/Makefile.am,
	mpc6xx/exceptions/Makefile.am, mpc6xx/mmu/Makefile.am,
	mpc6xx/timer/Makefile.am, mpc6xx/wrapup/Makefile.am,
	mpc8260/clock/Makefile.am, mpc8260/console-generic/Makefile.am,
	mpc8260/cpm/Makefile.am, mpc8260/exceptions/Makefile.am,
	mpc8260/mmu/Makefile.am, mpc8260/timer/Makefile.am,
	mpc8xx/clock/Makefile.am, mpc8xx/console-generic/Makefile.am,
	mpc8xx/cpm/Makefile.am, mpc8xx/exceptions/Makefile.am,
	mpc8xx/mmu/Makefile.am, mpc8xx/timer/Makefile.am,
	ppc403/clock/Makefile.am, ppc403/console/Makefile.am,
	ppc403/ictrl/Makefile.am, ppc403/timer/Makefile.am,
	ppc403/tty_drv/Makefile.am, ppc403/vectors/Makefile.am,
	shared/include/Makefile.am, shared/src/Makefile.am,
	wrapup/Makefile.am: Don't include @RTEMS_BSP@.cfg.

2002-12-17	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* old-exceptions/Makefile.am, new-exceptions/Makefile.am: Don't
	include @RTEMS_BSP@.cfg.
	* old-exceptions/configure.ac, new-exceptions/configure.ac: Remove
	RTEMS_CHECK_CUSTOM_BSP.

2002-12-06	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Remove RTEMS_CHECK_BSP_CACHE.

2002-12-02	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Remove mpc8260/include/Makefile. Remove
	mpc8xx/include/Makefile.
	* mpc8260/include/Makefile.am, mpc8xx/include/Makefile.am: Remove.
	* mpc8xx/Makefile.am: Merge-in mpc8xx/include/Makefile.am.
	* mpc8260/Makefile.am: Merge-in mpc8260/include/Makefile.am.

2002-12-01	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Add RTEMS_PROG_CCAS.

2002-11-04	Joel Sherrill <joel@OARcorp.com>

	* mpc8260/console-generic/console-generic.c, mpc8260/cpm/dpram.c,
	mpc8260/exceptions/raw_exception.c,
	mpc8xx/exceptions/raw_exception.c: Removed warnings.

2002-11-01	Joel Sherrill <joel@OARcorp.com>

	* new-exceptions/cpu.c: Currently only the mpc8260 BSP supports
	interrupt nesting. NOTE: These needs to be generalized as the patch
	is applied to other BSPs.
	* mpc8xx/console-generic/console-generic.c, mpc8xx/cpm/dpram.c,
	mpc8xx/exceptions/raw_exception.c, ppc403/clock/clock.c: Removed
	warnings.

2002-10-31	Joel Sherrill <joel@OARcorp.com>

	* mpc6xx/clock/c_clock.c, mpc6xx/exceptions/raw_exception.c,
	mpc6xx/mmu/bat.c: Removed warnings.

2002-09-14	Joel Sherrill <joel@OARcorp.com>

	* old-exceptions/cpu.c: Include declaration of variable i in ifdef
	USE_SPRG to eliminate warning.

2002-09-08	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Remove duplicate mpc6xx/timer/Makefile from
	CONFIG_FILES.

2002-09-02	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* mpc8260/exceptions/raw_exception.c: #include <string.h>. #include
	<bspIo.h>.

2002-08-11	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* mpc6xx/wrapup/Makefile.am, wrapup/Makefile.am,
	mpc505/ictrl/Makefile.am, mpc505/timer/Makefile.am,
	mpc505/vectors/Makefile.am, mpc6xx/clock/Makefile.am,
	mpc6xx/exceptions/Makefile.am, mpc6xx/mmu/Makefile.am,
	mpc6xx/timer/Makefile.am, mpc8260/clock/Makefile.am,
	mpc8260/console-generic/Makefile.am, mpc8260/cpm/Makefile.am,
	mpc8260/exceptions/Makefile.am, mpc8260/mmu/Makefile.am,
	mpc8260/timer/Makefile.am, mpc8xx/clock/Makefile.am,
	mpc8xx/console-generic/Makefile.am, mpc8xx/cpm/Makefile.am,
	mpc8xx/exceptions/Makefile.am, mpc8xx/mmu/Makefile.am,
	mpc8xx/timer/Makefile.am, ppc403/clock/Makefile.am,
	ppc403/console/Makefile.am, ppc403/ictrl/Makefile.am,
	ppc403/timer/Makefile.am, ppc403/tty_drv/Makefile.am,
	ppc403/vectors/Makefile.am, shared/include/Makefile.am,
	shared/src/Makefile.am, old-exceptions/Makefile.am,
	new-exceptions/Makefile.am: Use .$(OBJEXT) instead of .o.

2002-07-24	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* mpc6xx/mmu/pte121.c: Include <string.h> for gcc-3.1.

2002-07-22	Till Straumann <strauman@slac.stanford.edu>

	* mpc6xx/mmu/bat.c: Per PR241, fix a tiny bug introduced by the fix
	for an earlier patch (PR213) which added support for setting BAT0 to
	setdbat().

2002-07-21	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* old-exceptions/Makefile.am: Reflect having removed rtems.S. Use
	AM_CPPFLAGS instead of INCLUDES (Latest automake standard).
	* old-exceptions/Makefile.am: Fix oversights in previous patch.
	* old-exceptions/rtems.S: Remove.

2002-05-01	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* rtems/powerpc/debugmod.h: New file (extracted from score/ppc.h).
	* Makefile.am: Relect changes above.

2002-04-30	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* rtems/powerpc/cache.h: New file (extracted from
	old-exceptions/cpu.h)
	* old-exceptions/cpu.c: Include <rtems/powerpc/cache.h>.
	* Makefile.am: Relect changes above.

2002-04-18	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* shared/include/cpu.h, old-exceptions/rtems/score/cpu.h,
	new-exceptions/rtems/score/cpu.h: Removed.
	* mpc6xx/clock/c_clock.c: Reflect changes to <rtems/score/cpu.h>.
	* ppc403/vectors/vectors.S: Include <asm.h> instead of "asm.h".
	* mpc6xx/exceptions/asm_utils.S, mpc6xx/exceptions/raw_exception.c,
	mpc6xx/mmu/mmuAsm.S, mpc6xx/timer/timer.c,
	mpc8260/exceptions/asm_utils.S, mpc8260/exceptions/raw_exception.c,
	mpc8xx/exceptions/asm_utils.S, mpc8xx/exceptions/raw_exception.c:
	Ditto.
	* shared/include/Makefile.am, old-exceptions/Makefile.am,
	new-exceptions/Makefile.am: Reflect changes above.
	* shared/include/spr.h: Include rtems/powerpc/registers.h instead of
	libcpu/cpu.h.

2002-04-16	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* mpc8260/exceptions/raw_exception.c,
	mpc8xx/exceptions/raw_exception.c,
	mpc6xx/exceptions/raw_exception.c: Include <libcpu/cpuIdent.h>.
	* shared/include/cpu.h: Don't include cpuIdent.h.

2002-04-13	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* shared/include/cpuIdent.c: Reflect having added cpuIdent.h.
	* shared/include/cpu.h: Ditto.
	* shared/include/cpuIdent.h: New.
	* shared/include/Makefile.am: Add cpuIndent.h. Fix EXTRA_DIST.

2002-03-27	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* mpc505/ictrl/Makefile.am, mpc505/Makefile.am,
	mpc505/timer/Makefile.am, mpc505/vectors/Makefile.am, Makefile.am,
	mpc6xx/clock/Makefile.am, mpc6xx/Makefile.am,
	mpc6xx/exceptions/Makefile.am, mpc6xx/mmu/Makefile.am,
	mpc6xx/timer/Makefile.am, mpc6xx/wrapup/Makefile.am,
	mpc8260/clock/Makefile.am, mpc8260/Makefile.am,
	mpc8260/console-generic/Makefile.am, mpc8260/cpm/Makefile.am,
	mpc8260/exceptions/Makefile.am, mpc8260/include/Makefile.am,
	mpc8260/mmu/Makefile.am, mpc8260/timer/Makefile.am,
	mpc8xx/clock/Makefile.am, mpc8xx/Makefile.am,
	mpc8xx/console-generic/Makefile.am, mpc8xx/cpm/Makefile.am,
	mpc8xx/exceptions/Makefile.am, mpc8xx/include/Makefile.am,
	mpc8xx/mmu/Makefile.am, mpc8xx/timer/Makefile.am,
	ppc403/clock/Makefile.am, ppc403/Makefile.am,
	ppc403/console/Makefile.am, ppc403/ictrl/Makefile.am,
	ppc403/timer/Makefile.am, ppc403/tty_drv/Makefile.am,
	ppc403/vectors/Makefile.am, shared/include/Makefile.am,
	shared/Makefile.am, shared/src/Makefile.am, wrapup/Makefile.am,
	old-exceptions/Makefile.am, new-exceptions/Makefile.am: Remove
	AUTOMAKE_OPTIONS.
	* configure.ac, old-exceptions/configure.ac,
	new-exceptions/configure.ac:
	AC_INIT(package,_RTEMS_VERSION,_RTEMS_BUGS).
	AM_INIT_AUTOMAKE([no-define foreign 1.6]).

2002-02-04	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* shared/include/byteorder.h: Use unsigned instead of __unsigned 
	(GCC-3.0.x compatibility).

2002-01-03	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* mpc6xx/clock/c_clock.c, mpc6xx/mmu/bat.h,
	mpc8260/console-generic/console-generic.c, mpc8260/cpm/brg.c,
	mpc8xx/console-generic/console-generic.c, shared/include/cpuIdent.c:
	Include rtems/bspIo.h instead of bspIo.h.

2001-11-28	Joel Sherrill <joel@OARcorp.com>,

	This was tracked as PR91.
	This was tracked as PR91.
	* old-exceptions/Makefile.am, new-exceptions/Makefile.am: Deleted
	reference to c_isr.inl.
	* old-exceptions/rtems/score/cpu.h,
	new-exceptions/rtems/score/cpu.h: Added
	CPU_PROVIDES_ISR_IS_IN_PROGRESS macro which is used to specify if
	the port uses the standard macro for this (FALSE). A TRUE setting
	indicates the port provides its own implementation.
	* old-exceptions/rtems/score/c_isr.inl,
	new-exceptions/rtems/score/c_isr.inl: Deleted and contents merged
	into cpu.c.
	* old-exceptions/cpu.c, new-exceptions/cpu.c: Received contents of
	c_isr.inl.

2001-11-27	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* shared/include/cpu.h: Remove stray empty lines.
	* Makefile.am: Ditto.
	* ppc403/vectors/vectors.S: Include <bsp.h>.
	* configure.ac: Remove old_exception_processing,
	new_exception_processing.

2001-11-27	Joel Sherrill <joel@OARcorp.com>,

	* new_exception_processing/Makefile.in,
	new_exception_processing/Makefile.am,
	new_exception_processing/c_isr.inl, new_exception_processing/cpu.c,
	new_exception_processing/cpu.h, new_exception_processing/cpu_asm.S,
	old_exception_processing/Makefile.in,
	old_exception_processing/Makefile.am,
	old_exception_processing/README, old_exception_processing/TODO,
	old_exception_processing/c_isr.inl, old_exception_processing/cpu.c,
	old_exception_processing/cpu.h, old_exception_processing/cpu_asm.S,
	old_exception_processing/irq_stub.S,
	old_exception_processing/ppc_offs.h,
	old_exception_processing/ppccache.c,
	old_exception_processing/rtems.S: Deleted since now under libbsp.

2001-11-21	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Remove ppc603e from old_exception_processing.
	* configure.ac: Remove mpc750 from new_exception_processing, Remove
	mpc604 from new_exception_processing.
	* old-exceptions/Makefile.am, new-exceptions/Makefile.am: Preinstall
	c_isr.inl (HACK).

2001-11-16	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Remove mpc8xx from new_exception_processing.
	* configure.ac: Remove mpc8620 from new_exception_processing.

2001-11-14	Till Straumann <strauman@SLAC.Stanford.EDU>

	* new_exception_processing/cpu_asm.S: Support double or single
	precision context switches.  Note that doing a single precision
	context save/restore on a double precision PowerPC machine does not
	only result in rounding errors but also screws up the FPSCR
	register!

2001-11-08	Dennis Ehlin (ECS) <Dennis.Ehlin@ecs.ericsson.se>

	This modification is part of the submitted modifications necessary
	to
	support the IBM PPC405 family.  This submission was reviewed by
	Thomas Doerfler <Thomas.Doerfler@imd-systems.de> who ensured it did
	not negatively impact the ppc403 BSPs.  The submission and tracking
	process was captured as PR50.
	* ppc403/console/console405.c,
	ppc403/tty_drv/Makefile.am, ppc403/tty_drv/tty_drv.c,
	ppc403/tty_drv/tty_drv.h: New files.
	* Makefile.am, README, configure.ac, old_exception_processing/cpu.c,
	old_exception_processing/cpu.h, ppc403/Makefile.am,
	ppc403/clock/clock.c, ppc403/console/Makefile.am,
	ppc403/console/console.c, ppc403/ictrl/ictrl.c,
	ppc403/ictrl/ictrl.h, ppc403/timer/timer.c: Modified.

2001-11-07	Joel Sherrill <joel@OARcorp.com>

	* configure.ac: Delete the commented out line that said that the
	mpc8260 used the old exception processing model.  This line also
	appears to have caused ppc603e to miss this test.

2001-10-29	Joel Sherrill <joel@OARcorp.com>

	* mpc8xx/timer/timer.c: Added hack for two macros that are not
	defined with the new exception processing model:
	rtems_cpu_configuration_get_timer_least_valid()
	rtems_cpu_configuration_get_timer_average_overhead() This is
	captured as PR57.

2001-10-24	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* mpc8260/exceptions/Makefile.am, mpc8260/include/Makefile.am,
	mpc8xx/exceptions/Makefile.am: Updated to autoconf 2.52.

2001-10-24	Joel Sherrill <joel@OARcorp.com>

	* mpc8260/include/mpc8260.h: "or" is a keyword in C++.

2001-10-22	Andy Dachs <a.dachs@sstl.co.uk>

	* Added mpc8260 directory.
	* Modified Makefile.am and configure.in to build the contents
	* Makefile.am, README, configure.ac, new_exception_processing/cpu.h,
	shared/include/cpu.h, shared/include/cpuIdent.c, shared/src/cache.c:
	Added mpc8260 support.
	* mpc8260/Makefile.am, mpc8260/README, mpc8260/clock/Makefile.am,
	mpc8260/clock/clock.c, mpc8260/console-generic/Makefile.am,
	mpc8260/console-generic/console-generic.c,
	mpc8260/cpm/Makefile.am, mpc8260/cpm/brg.c, mpc8260/cpm/cp.c,
	mpc8260/cpm/dpram.c,
	mpc8260/exceptions/Makefile.am, mpc8260/exceptions/asm_utils.S,
	mpc8260/exceptions/raw_exception.c,
	mpc8260/exceptions/raw_exception.h, mpc8260/include/Makefile.am,
	mpc8260/include/console.h, mpc8260/include/cpm.h,
	mpc8260/include/mmu.h, mpc8260/include/mpc8260.h,
	mpc8260/mmu/Makefile.am, mpc8260/mmu/mmu.c,
	mpc8260/timer/Makefile.am, mpc8260/timer/timer.c: New files.

2001-10-12	Joel Sherrill <joel@OARcorp.com>

	* mpc6xx/clock/c_clock.c, mpc6xx/clock/c_clock.h,
	mpc8xx/clock/clock.c, mpc8xx/timer/timer.c,
	new_exception_processing/cpu.c, new_exception_processing/cpu.h,
	new_exception_processing/cpu_asm.S, old_exception_processing/cpu.c,
	old_exception_processing/cpu.h, old_exception_processing/cpu_asm.S,
	old_exception_processing/rtems.S: Fixed typo.

2001-10-11	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: New file, generated from configure.in by autoupdate.
	* configure.in: Remove.

2001-09-27	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* shared/src/Makefile.am: Use 'CLEANFILES ='.
	* new_exception_processing/Makefile.am,
	old_exception_processing/Makefile.am, mpc6xx/mmu/Makefile.am,
	mpc6xx/clock/Makefile.am, mpc6xx/exceptions/Makefile.am,
	mpc8xx/include/Makefile.am, mpc8xx/exceptions/Makefile.am,
	shared/include/Makefile.am, shared/src/Makefile.am: Use
	'PREINSTALL_FILES ='.

2001-09-27	Joel Sherrill <joel@OARcorp.com>

	* old_exception_processing/cpu.h, shared/include/cpu.h: Renamed
	delay() to rtems_bsp_delay(). Renamed delay_in_bus_cycles() to
	rtems_bsp_delay_in_bus_cycles().

2001-05-24	Tom Armistead <tom_armistead@phx.mcd.mot.com>

	* mpc6xx/timer/timer.c: Added include of bsp.h and removed external
	declaration of BSP_Convert_decrementer() to  correct unresolved
	reference to this routine.

2001-05-24	Eric Valette <valette@crf.canon.fr>

	* mpc8xx/console-generic/console-generic.c: Bug found by Yacine
	<elkolli@crf.canon.fr> where the initialization or irq data
	structure was incomplete in case a SMC channel was used first and
	later a SCC one.

2001-05-17	Joel Sherrill <joel@OARcorp.com>

	* mpc6xx/exceptions/raw_exception.c, pc6xx/mmu/pte121.c: Modified
	slightly to reflect recent PowerPC re-organization and avoid
	warnings.

2001-05-15	Till Straumann <strauman@slac.stanford.edu>

	* mpc6xx/mmu/pte121.c, mpc6xx/mmu/pte121.h: New files. Missed in
	merge of PR213.

2001-05-14	Till Straumann <strauman@slac.stanford.edu>

	* rtems/powerpc/registers.h, rtems/score/ppc.h: Per PR213, add  the
	following: - support for the MPC74000 (AKA G4); there is no AltiVec
	support yet, however. - the cache flushing assembly code uses
	hardware-flush on the G4. Also, a couple of hardcoded numerical
	values were replaced by more readable symbolic constants. - extended
	interrupt-disabled code section so enclose the entire cache
	flush/invalidate procedure (as recommended by the book). This is not
	(latency) critical as it is only used by init code but prevents
	possible corruption. - Trivial page table support as been added.
	(1:1 effective-virtual-physical address mapping which is only useful
	only on CPUs which feature hardware TLB replacement, e.g. >604. 
	This allows for write-protecting memory regions, e.g. text/ro-data
	which makes catching corruptors a lot easier. It also frees one
	DBAT/IBAT and gives more flexibility for setting up address maps :
	-) - setdbat() allows changing BAT0 also (since the BSP may use a
	page table, BAT0 could be available...). - asm_setdbatX() violated
	the SVR ABI by using r20 as a scratch register; changed for r0 -
	according to the book, a context synchronizing instruction is
	necessary prior to and after changing a DBAT -> isync added
	* new-exceptions/cpu.c: Per PR211 fix saving/restoring floating
	point context.  The fpsave and fprestore routines are only used in a
	executing context which _is_ fp and hence has the FPU enabled. The
	current behavior required the FPU always to be on which is very
	dangerous if lazy context switching is used.   [Joel Note: Some
	ports explicitly enabled the FPU in the FP save and restore routines
	to avoid this.] The patch also makes sure (on powerpc only) that the
	FPU is disabled for integer tasks. Note that this is crucial if
	deferred fp context switching is used. Otherwise, fp context
	corruption may go undetected! Also note that even tasks which merely
	push/pop FP registers to/from the stack without modifying them still
	MUST be FP tasks - otherwise (if lazy FP context switching is used),
	FP register corruption (of other, FP, tasks may occur)! Furthermore,
	(on PPC) by default, lazy FP context save/restore is _disabled_.
	* shared/include/io.h: Per PR215 address the following issues: -
	_IO_BASE, _ISA_MEM_BASE and PCI_DRAM_OFFSET are no longer defined by
	libcpu (powerpc/shared/include/io.h) but by the BSP (who is the only
	one to know the values) - the affected BSP (shared/motorola) headers
	have been fixed in a separate "libbsp/powerpc/shared" patch. - the
	DEC 21140 driver (libchip/network/dec21140.c) has been fixed to use
	PCI_DRAM_OFFSET instead of PREP_PCI_DRAM_OFFSET. and PCI_MEM_BASE
	instead of PREP_ISA_MEM_BASE. PCI_MEM_BASE is to be defined by the
	BSP who is using this driver. - the DEC driver also has been fixed
	to use the newer rtems_bsp_delay_in_bus_cycles() instead of the
	obsolete delay_in_bus_cycles().

2001-05-14	Joel Sherrill <joel@OARcorp.com>

	* shared/include/cpuIdent.c: Account for duplicate numbers.

2001-04-17	Joel Sherrill <joel@OARcorp.com>

	* shared/include/cpu.h: Added ifndef ASM.

2001-04-03	Joel Sherrill <joel@OARcorp.com>

	* Closed PR57.  The hack is OK as it allows a BSP to override or not
	at its discretion.
	* Per PR94, all rtems/score/CPUtypes.h are named
	rtems/score/types.h.
	* Per PR94, all rtems/score/CPUtypes.h are named
	rtems/score/types.h.
	* mpc8xx/timer/timer.c: Removed #warning declaring providing a 
	default definition for the macros
	rtems_cpu_configuration_get_timer_least_valid and
	rtems_cpu_configuration_get_timer_average_overhead.
	* old-exceptions/rtems/score/cpu.h,
	new-exceptions/rtems/score/cpu.h: Account for name change.

2001-03-30	Eric Valette <valette@crf.canon.fr>

	* mpc8xx/vectors/Makefile.am,
	mpc8xx/vectors/README, mpc8xx/vectors/align_h.S
	mpc8xx/vectors/vectors.S: These files were removed in support of
	switching the mpc8xx to the use the "new exception processing
	model."
	* configure.in, mpc6xx/mmu/bat.h, mpc8xx/Makefile.am,
	mpc8xx/clock/clock.c, mpc8xx/console-generic/console-generic.c,
	mpc8xx/include/mpc8xx.h, mpc8xx/mmu/mmu.c,
	new_exception_processing/cpu.h, shared/include/byteorder.h,
	wrapup/Makefile.am: This is conversion of the mpc8xx CPU to the "new
	exception processing model."
	* mpc8xx/exceptions/Makefile.am,
	mpc8xx/exceptions/asm_utils.S, mpc8xx/exceptions/raw_exception.c,
	mpc8xx/exceptions/raw_exception.h: New files.

2001-02-27	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* mpc505/ictrl/Makefile.am, mpc6xx/clock/Makefile.am,
	mpc6xx/exceptions/Makefile.am, mpc6xx/mmu/Makefile.am,
	mpc8xx/include/Makefile.am, new_exception_processing/Makefile.am,
	old_exception_processing/Makefile.am, pc403/ictrl/Makefile.am,
	shared/include/Makefile.am, shared/src/Makefile.am: Apply *_HEADERS
	instead of *H_FILES.

2001-01-03	Joel Sherrill <joel@OARcorp.com>

	* new_exception_processing/cpu.h, old_exception_processing/cpu.c:
	old_exception_processing/cpu.h, Added _CPU_Initialize_vectors(). In
	particular, spurious vector initialization had to be moved on old
	exception processing model.

2000-11-09	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am: Use ... instead of RTEMS_TOPdir in ACLOCAL_AMFLAGS.

2000-11-02	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am: Switch to ACLOCAL_AMFLAGS = -I
	$(RTEMS_TOPdir)/aclocal.

2000-10-26	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am: ACLOCAL_AMFLAGS= -I $(RTEMS_TOPdir)/macros. Switch to
	GNU canonicalization.

2000-10-20	Joel Sherrill <joel@OARcorp.com>

	* mpc8xx/console-generic/console-generic.c: Avoid use of BSP
	definitions and rely on the new routine
	mbx8xx_console_get_configuration() to get information.  This routine
	was formerly incorrectly called
	mbx8xx_console_use_maximum_buffer_size(). binding to the exception
	code.
	* configure.in, Makefile.am: Explicitly specify whether an
	RTEMS_CPU_MODEL is using old or new exception processing.  This is
	important because when building multilib, you do not know  the
	RTEMS_CPU_MODEL.  So everything built in a multilib'ed RTEMS must be
	independent of the exception model and allow for late binding to the
	exception code.

2000-10-18	Sergei Organov <osv@javad.ru>

	* Added full support for MPC505.
	* configure.in, mpc505/Makefile.am: Modified to reflect ictrl
	addition.
	* old_exception_processing/Makefile.am: Account for ppc_offs.h.
	* old_exception_processing/cpu_asm.S: Offsets moved to ppc_offs.h.
	* mpc505/timer/timer.c: Use <rtems.h>, not "rtems.h".
	* mpc505/vectors/vectors.S: Now use constants for exception numbers.
	* mpc505/ictrl: New directory.
	* old_exception_processing/ppc_offs.h: New file.
	* old_exception_processing/cpu.h: Make Nest and Disable levels
	volatile.
	* mpc505/vectors/Makefile.am: alignment exception handler now
	included.
	* mpc505/ictrl/Makefile.am,
	mpc505/ictrl/ictrl.c, mpc505/ictrl/ictrl.h: New files.

2000-10-18	Joel Sherrill <joel@OARcorp.com>

	* mpc8xx/console-generic/console-generic.c: Removed include of
	<bsp.h> by adding BSP dependent routine
	mbx8xx_console_use_maximum_buffer_size() which can be hard coded or
	check non-volatile memory for configuration.
	* mpc8xx/console-generic/console-generic.c: Removed warnings.
	* mpc6xx/clock/c_clock.h: Removed commented out reference to
	<bsp.h>.
	* mpc6xx/timer/timer.c, mpc6xx/timer/timer.c: Ditto.
	* mpc6xx/clock/c_clock.c, mpc6xx/clock/c_clock.h: Removed use of
	bsp.h and replaced it with use of proper interfaces or explicit
	externs of required functions and data.

2000-09-04	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* mpc505/timer/Makefile.am, mpc505/vectors/Makefile.am,
	mpc6xx/clock/Makefile.am, mpc6xx/exceptions/Makefile.am,
	mpc6xx/mmu/Makefile.am, mpc6xx/timer/Makefile.am,
	mpc6xx/wrapup/Makefile.am, ppc403/clock/Makefile.am,
	ppc403/console/Makefile.am, ppc403/ictrl/Makefile.am,
	ppc403/timer/Makefile.am, ppc403/vectors/Makefile.am,
	shared/include/Makefile.am, shared/src/Makefile.am,
	wrapup/Makefile.am, mpc8xx/clock/Makefile.am,
	mpc8xx/console-generic/Makefile.am, mpc8xx/cpm/Makefile.am,
	mpc8xx/mmu/Makefile.am, mpc8xx/timer/Makefile.am,
	mpc8xx/vectors/Makefile.am, new_exception_processing/Makefile.am,
	old_exception_processing/Makefile.am: Include compile.am

2000-08-11	Charles-Antoine Gauthier  <charles.gauthier@nrc.ca>

	* mpc8xx/console-generic/console-generic.c: Add support for
	configuration parameters in NVRAM

2000-08-10	Charles-Antoine Gauthier  <charles.gauthier@nrc.ca>

	* mpx8xx/console-generic/console-generic.c(m8xx_uart_pollWrite):
	Flush actual buffer.
	* mpx8xx/console-generic/console-generic.c: Addition of support for
	shared printk and no termios.

2000-06-08	Eric Valette <valette@crf.canon.fr>

	* mpc8xx/console-generic/console-generic.c: The printk/printf did
	not work when loaded by EPPCBUG. They did work when loaded with the
	BDM debugger.  I suspected EPPBUG  made some nasty things like
	patching Communication processor microcode...  Anyway, the attached
	patch: 1) Enables to have printk nearly immediately after boot, 2)
	Make printf work automagically (I do not know why except I make a 
	different initialization for printk that should be overwritten by 
	console init later ?) I let the default to be using EPPCBUG embedded
	firmware to boot and  using this printk early enabler code
	(LOADED_BY_EPPCBUG and  EARLY_CONSOLE) are on.

